"use strict";(self.webpackChunkitsxtrapush=self.webpackChunkitsxtrapush||[]).push([[633],{40633(t,e,n){n.r(e),n.d(e,{default:()=>R});var r=n(9950),l=n(92994),i=n(45530),s=n(29040),d=n(43405),o=n(38796),a=n(27321),c=n(6503),u=n(98519),h=n(86057),m=n(22403),x=n(96195),y=n(47666),j=n(44414);const v=(0,y.A)((0,j.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline");var g=n(81211),p=n(65060),f=n(86507),b=n(90641),A=n(80218),w=n(6732),P=n(66424),k=n(65250),S=n(45774),C=n(86633);const D=(0,x.Ay)(o.A)(t=>{let{theme:e}=t;return{padding:e.spacing(6),maxWidth:600,margin:"0 auto",marginTop:e.spacing(8),textAlign:"center"}}),I=(0,x.Ay)(a.A)(t=>{let{theme:e}=t;return{display:"flex",justifyContent:"center",marginBottom:e.spacing(3)}}),R=()=>{var t;const[e]=(0,l.ok)(),n=(0,l.Zp)(),[o,x]=(0,r.useState)(!0),[y,R]=(0,r.useState)(null),[N,L]=(0,r.useState)(null),[W,O]=(0,r.useState)(null),{user:_}=(0,d.A)(),E=(0,r.useRef)(!1),U=(0,r.useRef)(!1),F=(0,r.useRef)(null),z=(0,r.useRef)(null),[M,T]=(0,r.useState)(!1),[B,H]=(0,r.useState)(null),G={table:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},th:{textAlign:"left",border:"1px solid #ddd",padding:"8px",background:"#f7f7f7"},td:{border:"1px solid #ddd",padding:"8px"},right:{border:"1px solid #ddd",padding:"8px",textAlign:"right"}},V=t=>{if(!t)return t;try{const e=new URL(t);if("sparkle-pro.co.uk"===(e.hostname||"").replace(/^www\./,"")){let t=e.pathname||"/";return/^\/api\//i.test(t)||(t="/api".concat(t.startsWith("/")?"":"/").concat(t)),"".concat(t).concat(e.search||"")}return t}catch(e){return t}},K=e.get("tx_ref")||e.get("reference")||e.get("txRef");(0,r.useEffect)(()=>{try{const t=localStorage.getItem("xp_lastCheckout"),e=t?JSON.parse(t):null;O(e)}catch(t){O(null)}},[]),(0,r.useEffect)(()=>{(async()=>{try{if(K){const t=await i.a5.verifyPayChangu(K);t.success?R(t.data):L(t.error||"Failed to verify payment")}else L("No payment reference found")}catch(t){console.error("Error verifying payment:",t),L("Failed to verify payment status")}finally{x(!1)}})()},[K]),(0,r.useEffect)(()=>{(async()=>{if(!y||E.current)return;const t=localStorage.getItem("xp_analytics_sid"),e={txRef:K,paymentReference:null===y||void 0===y?void 0:y.id,amount:null===y||void 0===y?void 0:y.amount,currency:null===y||void 0===y?void 0:y.currency,paymentStatus:null===y||void 0===y?void 0:y.payment_status};try{const t=(null===_||void 0===_?void 0:_.uid)||null;if(t){const n=await i.gH.getUserOrders(t);if(null!==n&&void 0!==n&&n.success&&Array.isArray(n.orders)){const t=n.orders.filter(t=>String(t.paymentStatus||t.status||"").toLowerCase().includes("paid"))[0]||n.orders[0]||null;t&&(e.orderId=t.id,e.order={id:t.id,totalAmount:t.totalAmount,currency:t.currency,createdAt:t.createdAt,itemCount:Array.isArray(t.items)?t.items.length:void 0})}}}catch(n){0}t&&await(0,s.yM)(t,"purchase",e),E.current=!0})()},[y,_,K]),(0,r.useEffect)(()=>{(async()=>{if(!y||U.current)return;const t={txRef:K,amount:null===y||void 0===y?void 0:y.amount,currency:null===y||void 0===y?void 0:y.currency,customerEmail:(null===y||void 0===y?void 0:y.customer_email)||(null===_||void 0===_?void 0:_.email)||null,paymentStatus:(null===y||void 0===y?void 0:y.payment_status)||"success",items:(null===W||void 0===W?void 0:W.items)||null,installmentPlan:(null===W||void 0===W?void 0:W.installmentPlan)||null};try{await i.a5.notifyPaymentSuccess(t)}catch(e){0}finally{U.current=!0;try{localStorage.removeItem("xp_lastCheckout")}catch(n){}}})()},[y,K,_]);const Y=(t,e)=>{const n=(null===e||void 0===e?void 0:e.toUpperCase())||"MWK",r="MWK"===n?1:100;return new Intl.NumberFormat("en-US",{style:"currency",currency:n}).format((t||0)/r)},q=()=>{n("/")};return o?(0,j.jsxs)(D,{elevation:3,children:[(0,j.jsx)(c.A,{size:60}),(0,j.jsx)(u.A,{variant:"h6",sx:{mt:2},children:"Verifying your payment..."})]}):N?(0,j.jsxs)(D,{elevation:3,children:[(0,j.jsx)(h.A,{severity:"error",sx:{mb:3},children:N}),(0,j.jsx)(m.A,{variant:"contained",onClick:q,startIcon:(0,j.jsx)(g.A,{}),children:"Go to Home"})]}):(0,j.jsxs)(D,{elevation:3,children:[(0,j.jsx)(I,{children:(0,j.jsx)(v,{sx:{fontSize:80,color:"success.main"}})}),(0,j.jsx)(u.A,{variant:"h3",gutterBottom:!0,color:"success.main",children:"Payment Successful!"}),(0,j.jsx)(u.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Thank you for your purchase"}),y&&(0,j.jsxs)(a.A,{sx:{mt:4,mb:4},children:[(0,j.jsx)(u.A,{variant:"body1",gutterBottom:!0,children:(0,j.jsx)("strong",{children:"Order Details:"})}),(0,j.jsxs)(u.A,{variant:"body2",color:"text.secondary",children:["Payment ID: ",y.id]}),(0,j.jsxs)(u.A,{variant:"body2",color:"text.secondary",children:["Amount: ",Y(y.amount,y.currency)]}),y.customer_email&&(0,j.jsxs)(u.A,{variant:"body2",color:"text.secondary",children:["Email: ",y.customer_email]}),(0,j.jsxs)(u.A,{variant:"body2",color:"text.secondary",children:["Status: ",y.payment_status]})]}),(0,j.jsx)(u.A,{variant:"body1",sx:{mb:4},children:"Your order has been confirmed and you will receive an email confirmation shortly."}),(0,j.jsxs)(a.A,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[(0,j.jsx)(m.A,{variant:"outlined",onClick:q,startIcon:(0,j.jsx)(g.A,{}),children:"Go to Home"}),(0,j.jsx)(m.A,{variant:"contained",onClick:()=>{n("/dashboard/gadgets")},startIcon:(0,j.jsx)(p.A,{}),children:"Continue Shopping"}),y&&(0,j.jsx)(m.A,{variant:"contained",color:"secondary",onClick:async()=>{F.current&&await(0,b.i)(F.current,"Xtrapush-Receipt.pdf")},children:"Download Receipt (PDF)"}),y&&(0,j.jsx)(m.A,{variant:"outlined",color:"secondary",sx:{ml:1},onClick:async()=>{if(!F.current)return;const t=await(0,b.$)(F.current);H(t),T(!0)},children:"View Receipt (PDF)"}),(y||W)&&(0,j.jsx)(m.A,{variant:"outlined",color:"secondary",onClick:async()=>{z.current&&await(0,b.i)(z.current,"Xtrapush-Order.pdf")},children:"Download Order (PDF)"}),(y||W)&&(0,j.jsx)(m.A,{variant:"contained",color:"secondary",sx:{ml:1},onClick:async()=>{if(!z.current)return;const t=await(0,b.$)(z.current);H(t),T(!0)},children:"View Order (PDF)"})]}),y&&(0,j.jsxs)(a.A,{ref:F,sx:{position:"absolute",left:-9999,top:-9999,width:640,p:0,background:"#fff",color:"#000"},children:[(0,j.jsxs)(a.A,{sx:{background:"#fff",color:"#000",p:2,display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"1px solid #eee"},children:[(0,j.jsx)(C.A,{style:{width:110,height:"auto",transform:"none",marginRight:10}}),(0,j.jsx)(u.A,{variant:"subtitle1",fontWeight:700,children:"Payment Receipt"})]}),(0,j.jsxs)(a.A,{sx:{p:2},children:[(0,j.jsx)(u.A,{variant:"subtitle1",sx:{mb:1},children:"Summary"}),(0,j.jsx)("table",{style:G.table,children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Reference"}),(0,j.jsx)("td",{style:G.right,children:K||"\u2014"})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Payment ID"}),(0,j.jsx)("td",{style:G.right,children:y.id})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Email"}),(0,j.jsx)("td",{style:G.right,children:y.customer_email||(null===_||void 0===_?void 0:_.email)||"\u2014"})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Amount Paid"}),(0,j.jsx)("td",{style:G.right,children:Y(y.amount,y.currency)})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Paid at"}),(0,j.jsx)("td",{style:G.right,children:(new Date).toLocaleString()})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Status"}),(0,j.jsx)("td",{style:G.right,children:y.payment_status})]})]})}),((null===W||void 0===W?void 0:W.items)||[]).length>0&&(0,j.jsxs)(a.A,{sx:{mt:2},children:[(0,j.jsx)(u.A,{variant:"subtitle1",sx:{mb:1},children:"Items"}),(0,j.jsxs)("table",{style:G.table,children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{style:G.th,children:"Image"}),(0,j.jsx)("th",{style:G.th,children:"Item"}),(0,j.jsx)("th",{style:G.th,children:"Details"}),(0,j.jsx)("th",{style:G.th,children:"Qty"}),(0,j.jsx)("th",{style:G.th,children:"Price"})]})}),(0,j.jsx)("tbody",{children:W.items.map((t,e)=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:null!==t&&void 0!==t&&t.image?(0,j.jsx)("img",{src:V(t.image),crossOrigin:"anonymous",referrerPolicy:"no-referrer",alt:t.name||t.title||"Item",style:{width:48,height:48,objectFit:"cover",borderRadius:6},onError:t=>{t.currentTarget.style.display="none"}}):"\u2014"}),(0,j.jsx)("td",{style:G.td,children:(0,j.jsx)("strong",{children:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.title)||"Item"})}),(0,j.jsx)("td",{style:G.td,children:[null===t||void 0===t?void 0:t.brand,null===t||void 0===t?void 0:t.model,null===t||void 0===t?void 0:t.storage,null===t||void 0===t?void 0:t.condition].filter(Boolean).join(" \u2022 ")||"\u2014"}),(0,j.jsx)("td",{style:G.right,children:Number((null===t||void 0===t?void 0:t.quantity)||1)}),(0,j.jsx)("td",{style:G.right,children:Y((null===t||void 0===t?void 0:t.price)||0,y.currency)})]},e))})]})]}),(null===W||void 0===W?void 0:W.installmentPlan)&&(0,j.jsxs)(a.A,{sx:{mt:2},children:[(0,j.jsx)(u.A,{variant:"subtitle1",sx:{mb:1},children:"Installment Plan"}),(0,j.jsx)("table",{style:G.table,children:(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Weeks"}),(0,j.jsx)("td",{style:G.right,children:null!==(t=W.installmentPlan.weeks)&&void 0!==t?t:"\u2014"})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Weekly Amount"}),(0,j.jsx)("td",{style:G.right,children:"number"===typeof W.installmentPlan.weeklyAmount?Y(Number(W.installmentPlan.weeklyAmount),y.currency):"\u2014"})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Total"}),(0,j.jsx)("td",{style:G.right,children:"number"===typeof W.installmentPlan.totalAmount?Y(Number(W.installmentPlan.totalAmount),y.currency):"\u2014"})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Amount Paid"}),(0,j.jsx)("td",{style:G.right,children:"number"===typeof W.installmentPlan.amountPaid?Y(Number(W.installmentPlan.amountPaid),y.currency):"\u2014"})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Remaining"}),(0,j.jsx)("td",{style:G.right,children:"number"===typeof W.installmentPlan.remainingAmount?Y(Number(W.installmentPlan.remainingAmount),y.currency):"\u2014"})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{style:G.td,children:"Next Due"}),(0,j.jsx)("td",{style:G.right,children:W.installmentPlan.nextDueDate?new Date(W.installmentPlan.nextDueDate).toLocaleDateString():"\u2014"})]})]})})]}),(0,j.jsx)(u.A,{variant:"body2",sx:{mt:2},children:"Thank you for your purchase."})]})]}),(y||W)&&(0,j.jsx)(f.A,{ref:z,order:{id:(null===y||void 0===y?void 0:y.id)||null,userEmail:(null===y||void 0===y?void 0:y.customer_email)||(null===_||void 0===_?void 0:_.email)||null,createdAt:(new Date).toISOString(),currency:(null===y||void 0===y?void 0:y.currency)||"MWK",totalAmount:Math.round(Number((null===y||void 0===y?void 0:y.amount)||((null===W||void 0===W?void 0:W.items)||[]).reduce((t,e)=>t+Number(e.price||0)*Number(e.quantity||1),0))),items:(null===W||void 0===W?void 0:W.items)||[]},plan:(null===W||void 0===W?void 0:W.installmentPlan)||null}),(0,j.jsxs)(A.A,{open:M,onClose:()=>{if(T(!1),B){try{URL.revokeObjectURL(B)}catch(t){}H(null)}},fullWidth:!0,maxWidth:"md",children:[(0,j.jsxs)(w.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:["PDF Preview",(0,j.jsx)(P.A,{"aria-label":"close",onClick:()=>{if(T(!1),B){try{URL.revokeObjectURL(B)}catch(t){}H(null)}},children:(0,j.jsx)(S.A,{})})]}),(0,j.jsx)(k.A,{dividers:!0,children:B?(0,j.jsx)("iframe",{title:"PDF",src:B,style:{width:"100%",height:"80vh",border:"none"}}):(0,j.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,j.jsx)(c.A,{})})})]})]})}},65060(t,e,n){n.d(e,{A:()=>i});var r=n(47666),l=n(44414);const i=(0,r.A)((0,l.jsx)("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2m4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2z"}),"ShoppingBag")},81211(t,e,n){n.d(e,{A:()=>i});var r=n(47666),l=n(44414);const i=(0,r.A)((0,l.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home")},86507(t,e,n){n.d(e,{A:()=>a});var r=n(9950),l=n(27321),i=n(98519),s=n(55884),d=n(86633),o=n(44414);const a=(0,r.forwardRef)((t,e)=>{var n,r,a,c,u,h;let{order:m,plan:x}=t;const y=Array.isArray(null===m||void 0===m?void 0:m.items)?m.items:Array.isArray(null===m||void 0===m?void 0:m.cart)?m.cart:[],j=((null===m||void 0===m?void 0:m.currency)||"MWK").toUpperCase(),v=Number(null!==(n=null!==(r=null===x||void 0===x?void 0:x.amountPaid)&&void 0!==r?r:null===m||void 0===m?void 0:m.totalAmount)&&void 0!==n?n:0),g=(null===m||void 0===m?void 0:m.paidAt)||(null===m||void 0===m?void 0:m.paid_at)||(null===m||void 0===m?void 0:m.createdAt)||(null===m||void 0===m?void 0:m.created_at)||null,p=g?new Date(g):new Date,f=t=>{const e="MWK"===j?1:100;return new Intl.NumberFormat("en-US",{style:"currency",currency:j}).format((t||0)/e)},b=t=>{if(!t)return t;try{const e=new URL(t);if("sparkle-pro.co.uk"===(e.hostname||"").replace(/^www\./,"")){let t=e.pathname||"/";return/^\/api\//i.test(t)||(t="/api".concat(t.startsWith("/")?"":"/").concat(t)),"".concat(t).concat(e.search||"")}return t}catch(e){return t}},A={table:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},th:{textAlign:"left",border:"1px solid #ddd",padding:"8px",background:"#f7f7f7"},td:{border:"1px solid #ddd",padding:"8px"},right:{border:"1px solid #ddd",padding:"8px",textAlign:"right"}},w=(0,o.jsx)(l.A,{sx:{background:"#fff",color:"#000",p:12,display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"1px solid #eee"},children:(0,o.jsx)(d.A,{style:{width:120,height:"auto",transform:"none"}})});return(0,o.jsxs)(l.A,{ref:e,sx:{p:0,m:0,background:"#fff",color:"#000"},children:[w,(0,o.jsxs)(l.A,{sx:{p:2},children:[(0,o.jsxs)(i.A,{variant:"h6",sx:{mb:.5},children:["Order #",null!==(a=null===m||void 0===m?void 0:m.id)&&void 0!==a?a:"\u2014"]}),(0,o.jsx)(i.A,{variant:"subtitle2",sx:{mb:1},children:"Summary"}),(0,o.jsx)("table",{style:A.table,children:(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:"Email"}),(0,o.jsx)("td",{style:A.right,children:(null===m||void 0===m?void 0:m.userEmail)||(null===m||void 0===m?void 0:m.email)||(null===m||void 0===m||null===(c=m.customer)||void 0===c?void 0:c.email)||(null===m||void 0===m||null===(u=m.user)||void 0===u?void 0:u.email)||"\u2014"})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:"Paid at"}),(0,o.jsx)("td",{style:A.right,children:p.toLocaleString()})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:"Amount paid"}),(0,o.jsx)("td",{style:A.right,children:f(v)})]})]})}),(0,o.jsx)(s.A,{sx:{my:1}}),(0,o.jsx)(i.A,{variant:"subtitle1",sx:{mt:1,mb:1},children:"Items"}),y&&y.length>0?(0,o.jsxs)("table",{style:A.table,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{style:A.th,children:"Image"}),(0,o.jsx)("th",{style:A.th,children:"Item"}),(0,o.jsx)("th",{style:A.th,children:"Details"}),(0,o.jsx)("th",{style:A.th,children:"Qty"}),(0,o.jsx)("th",{style:A.th,children:"Price"})]})}),(0,o.jsx)("tbody",{children:y.map((t,e)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:null!==t&&void 0!==t&&t.image?(0,o.jsx)("img",{src:b(t.image),crossOrigin:"anonymous",referrerPolicy:"no-referrer",alt:t.name||t.title||"Item",style:{width:48,height:48,objectFit:"cover",borderRadius:6},onError:t=>{t.currentTarget.style.display="none"}}):"\u2014"}),(0,o.jsx)("td",{style:A.td,children:(0,o.jsx)("strong",{children:(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.title)||(null===t||void 0===t?void 0:t.id)||"Item"})}),(0,o.jsx)("td",{style:A.td,children:[null===t||void 0===t?void 0:t.brand,null===t||void 0===t?void 0:t.model,null===t||void 0===t?void 0:t.storage,null===t||void 0===t?void 0:t.condition].filter(Boolean).join(" \u2022 ")||"\u2014"}),(0,o.jsx)("td",{style:A.right,children:Number((null===t||void 0===t?void 0:t.quantity)||1)}),(0,o.jsx)("td",{style:A.right,children:"number"===typeof(null===t||void 0===t?void 0:t.price)?f(Number(t.price)):"\u2014"})]},e))})]}):(0,o.jsx)(i.A,{variant:"body2",color:"text.secondary",children:"No items"}),x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.A,{sx:{my:1}}),(0,o.jsx)(i.A,{variant:"subtitle1",sx:{mt:1,mb:1},children:"Installment Plan"}),(0,o.jsx)("table",{style:A.table,children:(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:"Weeks"}),(0,o.jsx)("td",{style:A.right,children:null!==(h=x.weeks)&&void 0!==h?h:"\u2014"})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:"Weekly Amount"}),(0,o.jsx)("td",{style:A.right,children:"number"===typeof x.weeklyAmount?f(Number(x.weeklyAmount)):"\u2014"})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:"Total"}),(0,o.jsx)("td",{style:A.right,children:"number"===typeof x.totalAmount?f(Number(x.totalAmount)):"\u2014"})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:"Amount Paid"}),(0,o.jsx)("td",{style:A.right,children:"number"===typeof x.amountPaid?f(Number(x.amountPaid)):"\u2014"})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:"Remaining"}),(0,o.jsx)("td",{style:A.right,children:"number"===typeof x.remainingAmount?f(Number(x.remainingAmount)):"\u2014"})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:A.td,children:"Next Due"}),(0,o.jsx)("td",{style:A.right,children:x.nextDueDate?new Date(x.nextDueDate).toLocaleDateString():"\u2014"})]})]})})]})]})]})})},90641(t,e,n){n.d(e,{$:()=>d,i:()=>s});var r=n(81052),l=n.n(r),i=n(95612);async function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return;const r=n.scale||2,s=n.margin||10,d=await l()(t,{scale:r,useCORS:!0,allowTaint:!1,imageTimeout:0,backgroundColor:"#ffffff",scrollY:-window.scrollY}),o=d.toDataURL("image/png"),a=new i.uE("p","mm","a4"),c=a.internal.pageSize.getWidth(),u=a.internal.pageSize.getHeight(),h=t=>.264583*t,m=h(d.width),x=.264583*s,y=c-2*x,j=y,v=h(d.height)*(y/m);a.addImage(o,"PNG",x,x,j,v);const g=u-2*x;let p=v-g;for(;p>0;){a.addPage();const t=x-(v-p);a.addImage(o,"PNG",x,t,j,v),p-=g}a.save(e)}async function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return null;const n=e.scale||2,r=e.margin||10,s=await l()(t,{scale:n,useCORS:!0,allowTaint:!1,imageTimeout:0,backgroundColor:"#ffffff",scrollY:-window.scrollY}),d=s.toDataURL("image/png"),o=new i.uE("p","mm","a4"),a=o.internal.pageSize.getWidth(),c=o.internal.pageSize.getHeight(),u=t=>.264583*t,h=u(s.width),m=.264583*r,x=a-2*m,y=x,j=u(s.height)*(x/h);o.addImage(d,"PNG",m,m,y,j);const v=c-2*m;let g=j-v;for(;g>0;){o.addPage();const t=m-(j-g);o.addImage(d,"PNG",m,t,y,j),g-=v}const p=o.output("blob");return URL.createObjectURL(p)}}}]);