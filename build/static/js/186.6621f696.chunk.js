"use strict";(self.webpackChunkitsxtrapush=self.webpackChunkitsxtrapush||[]).push([[186],{14186(e,t,r){r.r(t),r.d(t,{default:()=>U});var a=r(89379),o=r(9950),i=r(27321),n=r(22403),s=r(5332),l=r(55884),d=r(47872),c=r(87209),u=r(34244),p=r(92994),h=r(82503),m=r(98519),x=r(85105),g=r(55547),f=r(96195),w=r(5352),b=r(66424),y=r(39872),v=r(20599),A=r(80660),j=r(38370),S=r(31760),k=r(64074),C=r(66427),I=r(26574),P=r(82281),z=r(437),M=r(86633),E=r(82720),F=r(45530),D=r(43405),W=r(44414);(0,f.Ay)(g.A)(e=>{let{theme:t}=e;return(0,a.A)({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:t.spacing(4),gap:t.spacing(2),margin:"auto",[t.breakpoints.up("sm")]:{maxWidth:"450px"},boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px"},t.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"}))});const B=(0,f.Ay)(x.A)(e=>{let{theme:t}=e;return{minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, #2da6b3 0%, #48cedb 50%, #1a8895 100%)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",padding:t.spacing(3),"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",animation:"pulse 8s ease-in-out infinite"},"&::after":{content:'""',position:"absolute",top:"-50%",right:"-10%",width:"80%",height:"80%",background:"rgba(255,255,255,0.05)",borderRadius:"50%",animation:"float 15s ease-in-out infinite"},"@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.8}},"@keyframes float":{"0%, 100%":{transform:"translate(0, 0) rotate(0deg)"},"33%":{transform:"translate(30px, -30px) rotate(120deg)"},"66%":{transform:"translate(-20px, 20px) rotate(240deg)"}}}}),H=(0,f.Ay)(i.A)(e=>{let{theme:t}=e;return{position:"relative",zIndex:1,width:"100%",maxWidth:"1400px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:t.spacing(6),alignItems:"center",[t.breakpoints.down("lg")]:{gridTemplateColumns:"1fr",maxWidth:"500px"}}}),N=(0,f.Ay)(i.A)(e=>{let{theme:t}=e;return{flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",padding:t.spacing(2),[t.breakpoints.up("sm")]:{padding:t.spacing(4)},[t.breakpoints.down("md")]:{minHeight:"auto"}}}),T=(0,f.Ay)(i.A)(e=>{let{theme:t}=e;return{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:t.spacing(2),[t.breakpoints.down("md")]:{display:"none"}}}),V=(0,f.Ay)(g.A)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:t.spacing(3),gap:t.spacing(1.5),margin:"auto",position:"relative",zIndex:1,[t.breakpoints.up("sm")]:{maxWidth:"520px"},background:"rgba(30, 30, 30, 0.95)",color:"#fff",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)","& .MuiTextField-root":{"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.5)"},"&.Mui-focused fieldset":{borderColor:"#48cedb"}},"& .MuiOutlinedInput-input::placeholder":{color:"rgba(255, 255, 255, 0.5)",opacity:1}},"& .MuiFormLabel-root":{color:"rgba(255, 255, 255, 0.8)","&.Mui-focused":{color:"#48cedb"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.7)"}}});function U(e){const[t,r]=o.useState(!1),[g,f]=o.useState(""),[U,q]=o.useState(!1),[G,Z]=o.useState(""),[J,O]=o.useState(!1),[_,Y]=o.useState(""),[$,K]=o.useState(!1),[Q,X]=o.useState(""),[ee,te]=o.useState(!1),[re,ae]=o.useState(!1),[oe,ie]=o.useState(""),[ne,se]=o.useState(""),[le,de]=o.useState(0),ce=(0,p.Zp)(),{hydrateBackendSession:ue}=(0,D.A)(),pe=[{icon:j.A,title:"Device Protection",description:"Comprehensive coverage for all your gadgets with instant claims and repairs"},{icon:S.A,title:"Flexible Payment Plans",description:"Buy now, pay later with our easy installment options tailored for you"},{icon:k.A,title:"Trade-In Program",description:"Turn your old devices into value and upgrade to the latest technology"},{icon:C.A,title:"Fast Delivery",description:"Secure delivery you can trust, with speedy dispatch and careful handling"},{icon:I.A,title:"Exclusive Deals",description:"Members-only discounts and early access to new product launches"}];o.useEffect(()=>{const e=setInterval(()=>{de(e=>(e+1)%pe.length)},4e3);return()=>clearInterval(e)},[pe.length]);const he=()=>{r(!1),f(""),q(!1),Z(""),O(!1),Y(""),K(!1),X("");const e=document.getElementById("email"),t=document.getElementById("name"),a=(document.getElementById("phone"),((null===e||void 0===e?void 0:e.value)||"").trim()),o=((null===t||void 0===t?void 0:t.value)||"").trim();let i=!0;a&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)||(r(!0),f(a?"Enter a valid email address":"Email is required"),i=!1),(!o||o.length<2)&&(q(!0),Z(o?"Name must be at least 2 characters":"Full name is required"),i=!1);const n=L(oe);return n.isValid||(O(!0),Y(n.errors[0]),i=!1),ne&&oe===ne||(K(!0),X(ne?"Passwords do not match":"Please confirm your password"),i=!1),i};return(0,W.jsxs)(z.A,(0,a.A)((0,a.A)({},e),{},{children:[(0,W.jsx)(s.Ay,{}),(0,W.jsx)(B,{children:(0,W.jsxs)(H,{children:[(0,W.jsx)(N,{children:(0,W.jsxs)(i.A,{sx:{textAlign:"center",maxWidth:550,position:"relative",zIndex:1},children:[(0,W.jsx)(i.A,{onClick:()=>ce("/"),sx:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",mb:3},children:(0,W.jsx)(M.A,{style:{width:"min(220px, 60vw)",height:"auto",filter:"brightness(0) invert(1)"}})}),(0,W.jsx)(m.A,{variant:"h2",sx:{color:"white",fontWeight:800,mb:6,fontSize:{xs:"2.5rem",md:"3rem"},textShadow:"0 4px 20px rgba(0,0,0,0.2)",minHeight:{xs:"3.5rem",md:"4rem"}},children:"Start Your Journey"}),(0,W.jsx)(i.A,{sx:{position:"relative",minHeight:300,display:"flex",alignItems:"center",justifyContent:"center"},children:pe.map((e,t)=>(0,W.jsxs)(i.A,{sx:{position:"absolute",width:"100%",opacity:le===t?1:0,transform:le===t?"scale(1) translateY(0)":"scale(0.95) translateY(20px)",transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",pointerEvents:le===t?"auto":"none",textAlign:"center"},children:[(0,W.jsx)(i.A,{component:e.icon,sx:{fontSize:{xs:"4rem",md:"5rem"},mb:2,color:"white",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}}),(0,W.jsx)(m.A,{variant:"h4",sx:{color:"white",fontWeight:700,mb:2,fontSize:{xs:"1.5rem",md:"1.8rem"},textShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:e.title}),(0,W.jsx)(m.A,{variant:"body1",sx:{color:"rgba(255,255,255,0.95)",lineHeight:1.7,fontSize:{xs:"1rem",md:"1.1rem"},textShadow:"0 1px 4px rgba(0,0,0,0.2)"},children:e.description})]},t))}),(0,W.jsx)(x.A,{direction:"row",spacing:1.5,justifyContent:"center",sx:{mt:4},children:pe.map((e,t)=>(0,W.jsx)(i.A,{onClick:()=>de(t),sx:{width:le===t?32:12,height:12,borderRadius:6,background:le===t?"white":"rgba(255,255,255,0.4)",cursor:"pointer",transition:"all 0.4s ease","&:hover":{background:"white",transform:"scale(1.15)"}}},t))})]})}),(0,W.jsx)(T,{children:(0,W.jsxs)(V,{variant:"outlined",children:[(0,W.jsx)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:(0,W.jsx)(n.A,{startIcon:(0,W.jsx)(A.A,{}),onClick:()=>ce("/signin"),variant:"text",sx:{color:"#48cedb","&:hover":{background:"rgba(72, 206, 219, 0.1)"}},children:"Back"})}),(0,W.jsx)(m.A,{component:"h1",variant:"h5",sx:{width:"100%",fontSize:"clamp(1.3rem, 18vw, 1.4rem)",color:"#fff",textAlign:"center",mb:2},children:"Create Account"}),(0,W.jsxs)(i.A,{component:"form",onSubmit:async e=>{e.preventDefault();const t=document.getElementById("email"),a=document.getElementById("name"),o=(document.getElementById("phone"),document.getElementById("password"));if(he())try{const e=L(o.value);if(!e.isValid)return O(!0),void Y(e.errors[0]);const r={uid:crypto.randomUUID(),email:t.value,fullName:a.value,signupMethod:"email_password",password:o.value,photoURL:null},i=await F.R2.register(r);if(!i||!i.success)throw new Error((null===i||void 0===i?void 0:i.error)||"Failed to save user data");if(null!==i&&void 0!==i&&i.user){localStorage.setItem("backendUser",JSON.stringify(i.user)),localStorage.setItem("backendSession","true");try{await ue(i.user)}catch(s){console.warn("Hydrate failed:",s)}}ce("/dashboard")}catch(l){let e="Signup failed. Please try again.";if("object"===typeof l&&null!==l){var i,n;const t=l;if("string"===typeof t.code)"auth/email-already-in-use"===t.code?(e="An account with this email already exists.",r(!0),f("Email already in use")):"auth/weak-password"===t.code?(e="Password is too weak. Please choose a stronger password.",O(!0),Y("Password is too weak")):"auth/invalid-email"===t.code&&(e="Please enter a valid email address.",r(!0),f("Invalid email format"));else if(null!==t&&void 0!==t&&null!==(i=t.response)&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.error){e=t.response.data.error;const a=t.response.data.field,o=t.response.data.existingSignupMethod;"email"===a?(r(!0),f("google"===o?"Account exists with Google sign-in":"email_password"===o?"Account exists with email/password":t.response.data.error)):"password"===a&&(O(!0),Y(t.response.data.error))}}alert(e)}},noValidate:!0,sx:{display:"flex",flexDirection:"column",width:"100%",gap:1.2},children:[(0,W.jsxs)(c.A,{children:[(0,W.jsx)(d.A,{htmlFor:"email",sx:{fontSize:"0.85rem",mb:.5},children:"Email"}),(0,W.jsx)(h.A,{error:t,helperText:g,id:"email",type:"email",name:"email",placeholder:"your@email.com",autoComplete:"email",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",size:"small",color:t?"error":"primary",inputProps:{"aria-label":"email"}})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(d.A,{htmlFor:"name",sx:{fontSize:"0.85rem",mb:.5},children:"Full Name"}),(0,W.jsx)(h.A,{error:U,helperText:G,id:"name",type:"text",name:"name",placeholder:"John Doe",autoComplete:"name",required:!0,fullWidth:!0,variant:"outlined",size:"small",color:U?"error":"primary",inputProps:{"aria-label":"name"}})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(i.A,{sx:{display:"flex",justifyContent:"space-between"},children:(0,W.jsx)(d.A,{htmlFor:"password",sx:{fontSize:"0.85rem",mb:.5},children:"Password"})}),(0,W.jsx)(h.A,{error:J,helperText:_,name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",type:ee?"text":"password",id:"password",autoComplete:"new-password",required:!0,fullWidth:!0,variant:"outlined",size:"small",color:J?"error":"primary",value:oe,onChange:e=>ie(e.target.value),InputProps:{endAdornment:(0,W.jsx)(w.A,{position:"end",children:(0,W.jsx)(b.A,{"aria-label":"toggle password visibility",onClick:()=>te(e=>!e),onMouseDown:e=>e.preventDefault(),edge:"end",sx:{color:"#48cedb"},children:ee?(0,W.jsx)(v.A,{}):(0,W.jsx)(y.A,{})})})}}),(0,W.jsx)(R,{password:oe,confirmPassword:ne,showConfirmMatch:ne.length>0})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(i.A,{sx:{display:"flex",justifyContent:"space-between"},children:(0,W.jsx)(d.A,{htmlFor:"confirmPassword",sx:{fontSize:"0.85rem",mb:.5},children:"Confirm Password"})}),(0,W.jsx)(h.A,{error:$,helperText:Q,name:"confirmPassword",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",type:re?"text":"password",id:"confirmPassword",autoComplete:"new-password",required:!0,fullWidth:!0,variant:"outlined",size:"small",color:$?"error":"primary",value:ne,onChange:e=>se(e.target.value),InputProps:{endAdornment:(0,W.jsx)(w.A,{position:"end",children:(0,W.jsx)(b.A,{"aria-label":"toggle confirm password visibility",onClick:()=>ae(e=>!e),onMouseDown:e=>e.preventDefault(),edge:"end",sx:{color:"#48cedb"},children:re?(0,W.jsx)(v.A,{}):(0,W.jsx)(y.A,{})})})}})]}),(0,W.jsx)(n.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{background:"linear-gradient(135deg, #48cedb 0%, #2da6b3 100%)",color:"#fff",fontWeight:600,py:1.5,"&:hover":{background:"linear-gradient(135deg, #38b8cb 0%, #2190a0 100%)",boxShadow:"0 4px 20px rgba(72, 206, 219, 0.4)"},mt:1},children:"Sign Up"}),(0,W.jsxs)(m.A,{sx:{textAlign:"center",color:"rgba(255,255,255,0.8)"},children:["Already have an account?"," ",(0,W.jsx)("span",{children:(0,W.jsx)(u.A,{component:p.N_,to:"/signin",sx:{color:"#48cedb","&:hover":{color:"#5dd9e8"}},children:"Sign In"})})]})]}),(0,W.jsx)(l.A,{sx:{background:"rgba(255,255,255,0.2)",my:2},children:(0,W.jsx)(m.A,{sx:{color:"rgba(255,255,255,0.6)",fontSize:"0.85rem"},children:"or"})}),(0,W.jsx)(i.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:(0,W.jsx)(n.A,{fullWidth:!0,variant:"outlined",sx:{borderColor:"rgba(255,255,255,0.3)",color:"#fff","&:hover":{borderColor:"#48cedb",background:"rgba(72, 206, 219, 0.1)"}},onClick:async()=>{try{if(!(0,E.c7)()&&window.location.hostname.includes("itsxtrapush.com"))return void alert("Domain authorization error: itsxtrapush.com needs to be added to Firebase authorized domains. Please contact support.");const n=await(0,E.df)(E.j2,E.Mn);try{const e=await F.R2.register({uid:n.user.uid,email:n.user.email,displayName:n.user.displayName,signupMethod:"google",domain:window.location.hostname});if(null!==e&&void 0!==e&&e.success&&null!==e&&void 0!==e&&e.user){localStorage.setItem("backendUser",JSON.stringify(e.user)),localStorage.setItem("backendSession","true");try{await ue(e.user)}catch(a){console.warn("Hydrate failed:",a)}}}catch(o){var e,t,r;console.warn("Backend signup failed:",(null===o||void 0===o||null===(e=o.response)||void 0===e?void 0:e.data)||(null===o||void 0===o?void 0:o.message));if("email_password"===(null===o||void 0===o||null===(t=o.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.existingSignupMethod))try{const e=await F.R2.linkGoogle({email:String(n.user.email||""),googleUid:String(n.user.uid),displayName:String(n.user.displayName||"")});if(null===e||void 0===e||!e.success||null===e||void 0===e||!e.user)throw new Error((null===e||void 0===e?void 0:e.error)||"Linking failed");localStorage.setItem("backendUser",JSON.stringify(e.user)),localStorage.setItem("backendSession","true");try{await ue(e.user)}catch(a){console.warn("Hydrate failed:",a)}}catch(i){return void alert("An account with this email already exists with email/password. Please sign in with your email and password, then link Google in settings.")}}ce("/dashboard")}catch(n){console.error("Google Sign-Up Error:",n);let e="unknown",t="Unknown error";if("object"===typeof n&&null!==n){const r=n;"string"===typeof r.code&&(e=r.code),"string"===typeof r.message&&(t=r.message)}console.error("Error context:",{code:e,message:t});let r="Sign-up failed. Please try again.";switch(e){case"auth/internal-error":r="Authentication service error. This usually means the domain needs to be authorized in Firebase. Please contact support.";break;case"auth/unauthorized-domain":r="This domain (".concat(window.location.hostname,") is not authorized for Google sign-up. Please contact support.");break;case"auth/popup-closed-by-user":r="Sign-up was cancelled. Please try again.";break;case"auth/popup-blocked":r="Pop-up was blocked. Please allow pop-ups and try again.";break;case"auth/account-exists-with-different-credential":r="An account with this email already exists. Try signing in instead.";break;case"auth/network-request-failed":r="Network error. Please check your internet connection and try again.";break;default:r="Sign-up failed: ".concat(t)}alert(r)}},startIcon:(0,W.jsx)(P.NR,{}),children:"Sign up with Google"})})]})})]})})]}))}function L(e){const t=[];let r=0;return e.length<8?t.push("Password must be at least 8 characters long."):r+=1,/[A-Z]/.test(e)?r+=1:t.push("Include at least one uppercase letter."),/[a-z]/.test(e)?r+=1:t.push("Include at least one lowercase letter."),/[0-9]/.test(e)?r+=1:t.push("Include at least one number."),/[^A-Za-z0-9]/.test(e)?r+=1:t.push("Include at least one symbol."),{isValid:0===t.length,errors:t,score:r}}function R(e){let{password:t,confirmPassword:r,showConfirmMatch:a=!1}=e;const o=L(t),n=["Very weak","Weak","Fair","Good","Strong","Very strong"],s=n[Math.min(o.score,n.length-1)],l=a&&!!r&&t!==r;return(0,W.jsxs)(i.A,{sx:{mt:1},children:[(0,W.jsx)(m.A,{variant:"caption",sx:{color:o.isValid?"#81c784":"#e57373"},children:o.isValid?"Password strength: ".concat(s):o.errors[0]}),l&&(0,W.jsx)(m.A,{variant:"caption",sx:{color:"#e57373",display:"block"},children:"Passwords do not match."})]})}},82281(e,t,r){r.d(t,{NR:()=>i});r(9950);var a=r(39020),o=r(44414);function i(){return(0,o.jsx)(a.A,{children:(0,o.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M15.68 8.18182C15.68 7.61455 15.6291 7.06909 15.5345 6.54545H8V9.64364H12.3055C12.1164 10.64 11.5491 11.4836 10.6982 12.0509V14.0655H13.2945C14.8073 12.6691 15.68 10.6182 15.68 8.18182Z",fill:"#4285F4"}),(0,o.jsx)("path",{d:"M8 16C10.16 16 11.9709 15.2873 13.2945 14.0655L10.6982 12.0509C9.98545 12.5309 9.07636 12.8218 8 12.8218C5.92 12.8218 4.15273 11.4182 3.52 9.52727H0.858182V11.5927C2.17455 14.2036 4.87273 16 8 16Z",fill:"#34A853"}),(0,o.jsx)("path",{d:"M3.52 9.52C3.36 9.04 3.26545 8.53091 3.26545 8C3.26545 7.46909 3.36 6.96 3.52 6.48V4.41455H0.858182C0.312727 5.49091 0 6.70545 0 8C0 9.29455 0.312727 10.5091 0.858182 11.5855L2.93091 9.97091L3.52 9.52Z",fill:"#FBBC05"}),(0,o.jsx)("path",{d:"M8 3.18545C9.17818 3.18545 10.2255 3.59273 11.0618 4.37818L13.3527 2.08727C11.9636 0.792727 10.16 0 8 0C4.87273 0 2.17455 1.79636 0.858182 4.41455L3.52 6.48C4.15273 4.58909 5.92 3.18545 8 3.18545Z",fill:"#EA4335"})]})})}}}]);