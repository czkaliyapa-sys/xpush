<!DOCTYPE html>
<html>
<head>
    <title>API Configuration Test</title>
</head>
<body>
    <h1>API Configuration Test</h1>
    <div id="results"></div>

    <script>
        // Function to display results
        function displayResult(message, isSuccess = true) {
            const resultsDiv = document.getElementById('results');
            const resultElement = document.createElement('p');
            resultElement.textContent = message;
            resultElement.style.color = isSuccess ? 'green' : 'red';
            resultElement.style.fontWeight = 'bold';
            resultsDiv.appendChild(resultElement);
        }

        // Test the API configuration
        function testAPIConfig() {
            displayResult('Testing API Configuration...');
            
            // Check if we're using the correct API URL
            const expectedAPIURL = 'https://sparkle-pro.co.uk/api';
            
            // Test fetch to health endpoint
            fetch('https://sparkle-pro.co.uk/api/health')
                .then(response => response.json())
                .then(data => {
                    if (data.status === 'OK') {
                        displayResult('✅ Health check passed - API is accessible', true);
                        displayResult(`✅ API Response: ${data.message}`, true);
                    } else {
                        displayResult('❌ Health check failed', false);
                    }
                })
                .catch(error => {
                    displayResult(`❌ Health check error: ${error.message}`, false);
                });
                
            // Test fetch to gadgets endpoint
            fetch('https://sparkle-pro.co.uk/api/gadgets')
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        displayResult(`✅ Gadgets API test passed - Found ${data.count} gadgets`, true);
                    } else {
                        displayResult('❌ Gadgets API test failed', false);
                    }
                })
                .catch(error => {
                    displayResult(`❌ Gadgets API error: ${error.message}`, false);
                });
        }

        // Run the test when page loads
        window.onload = testAPIConfig;
    </script>
</body>
</html>