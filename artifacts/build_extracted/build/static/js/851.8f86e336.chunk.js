"use strict";(self.webpackChunkitsxtrapush=self.webpackChunkitsxtrapush||[]).push([[851],{65851(e,i,t){t.r(i),t.d(i,{default:()=>v});var s=t(9950),l=t(92994),a=t(27321),r=t(98519),n=t(86057),o=t(22403),c=t(79482),d=t(96469),h=t(54048),p=t(69335),u=t(45530),m=t(44414);const g=s.lazy(()=>Promise.all([t.e(535),t.e(81),t.e(643),t.e(529),t.e(212)]).then(t.bind(t,4212))),v=()=>{const e=(0,l.zy)(),{items:i,remove:t,clear:v}=(0,h.n)(),{formatLocalPrice:x,isInMalawi:w}=(0,p.e)(),[y,b]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[k,N]=(0,s.useState)([]);return(0,s.useEffect)(()=>{i.length>0?(async()=>{try{b(!0),j(null);const e=await Promise.all(i.map(async e=>{try{const i=await u.QO.getById(e);return i&&i.success?i.data:null}catch(i){return console.warn("Failed to fetch gadget",e,i),null}}));N(e.filter(Boolean))}catch(e){console.error("Error loading wishlist gadgets:",e),j("Failed to load wishlist items.")}finally{b(!1)}})():N([])},[i]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.A,{title:"My Wishlist - Saved Gadgets | Xtrapush Gadgets",description:"View your saved wishlist items. Keep track of gadgets you want to buy later with prices and availability updates.",keywords:"wishlist, saved items, favorite gadgets, save for later",canonical:(0,d.KQ)(e.pathname),ogTitle:"My Wishlist",ogDescription:"Your Saved Gadgets Wishlist",ogUrl:(0,d.KQ)(e.pathname)}),(0,m.jsx)("div",{className:"deep bg-primary w-full overflow-hidden min-h-screen",children:(0,m.jsx)("div",{className:"px-4 sm:px-6",children:(0,m.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,m.jsxs)(a.A,{sx:{mt:2},children:[(0,m.jsx)(r.A,{variant:"h5",sx:{color:"white",mb:2},children:"Your Wishlist"}),y?(0,m.jsx)("div",{className:"text-white",children:"Loading wishlist..."}):f?(0,m.jsx)(n.A,{severity:"error",sx:{mb:2},children:f}):0===k.length?(0,m.jsx)("div",{className:"text-white",children:"Your wishlist is empty. Browse gadgets and tap the heart icon to add."}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(r.A,{variant:"body1",sx:{color:"white",mb:3,opacity:.8},children:[k.length," item",1!==k.length?"s":""," saved"]}),(0,m.jsx)(s.Suspense,{fallback:(0,m.jsx)("div",{className:"text-white opacity-70",children:"Loading wishlist\u2026"}),children:(0,m.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:k.map(e=>{var i,t,s,a,r;return(0,m.jsx)(l.N_,{to:"/gadgets/".concat(e.id),onClick:e=>{try{window.__dialogOpen&&(e.preventDefault(),e.stopPropagation())}catch(i){}},children:(0,m.jsx)(g,{id:String(e.id),title:e.name,date:e.date||"Available Now",number:(()=>{const i=[null===e||void 0===e?void 0:e.stock_quantity,null===e||void 0===e?void 0:e.qty,null===e||void 0===e?void 0:e.number];for(const e of i){const i=Number(e);if(Number.isFinite(i)&&i>=0)return i}return null!==e&&void 0!==e&&e.in_stock||null!==e&&void 0!==e&&e.inStock?1:0})(),image:e.image,description:e.description,price:e.price,priceMwk:null!==(i=null!==(t=e.price_mwk)&&void 0!==t?t:e.priceMwk)&&void 0!==i?i:e.price,priceGbp:null!==(s=e.price_gbp)&&void 0!==s?s:e.priceGbp,monthlyPrice:null!==(a=e.monthly_price)&&void 0!==a?a:e.monthlyPrice,monthlyPriceGbp:null!==(r=e.monthly_price_gbp)&&void 0!==r?r:e.monthlyPriceGbp})},e.id)})})}),(0,m.jsx)(a.A,{sx:{display:"flex",gap:2,mt:3},children:(0,m.jsx)(o.A,{variant:"outlined",color:"error",onClick:v,children:"Clear Wishlist"})})]})]})})})})]})}}}]);