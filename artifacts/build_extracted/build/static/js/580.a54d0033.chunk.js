"use strict";(self.webpackChunkitsxtrapush=self.webpackChunkitsxtrapush||[]).push([[580],{23670(e,o,t){t.d(o,{A:()=>a});var r=t(47666),n=t(44414);const a=(0,r.A)((0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},50336(e,o,t){t.r(o),t.d(o,{default:()=>ge});var r=t(57528),n=t(89379),a=t(9950),s=t(27321),i=t(22403),l=t(29920),d=t(5332),c=t(41680),u=t(55884),p=t(47872),h=t(87209),g=t(34244),f=t(82503),m=t(98519),x=t(85105),b=t(55547),v=t(96195),w=t(5352),y=t(66424),A=t(39872),j=t(20599),k=t(88283),S=t(38370),C=t(31760),P=t(64074),I=t(26574),M=t(80218),z=t(47371),F=t(65250),R=t(80045),W=t(72004),D=t(65698),T=t(65815),B=t(48802),E=t(54212),N=t(43396);function q(e){return(0,N.Ay)("MuiDialogContentText",e)}(0,E.A)("MuiDialogContentText",["root"]);var G=t(44414);const L=["children","className"],H=(0,v.Ay)(m.A,{shouldForwardProp:e=>(0,T.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root"})({}),V=a.forwardRef(function(e,o){const t=(0,B.b)({props:e,name:"MuiDialogContentText"}),{children:r,className:a}=t,s=(0,R.A)(t,L),i=(e=>{const{classes:o}=e,t=(0,D.A)({root:["root"]},q,o);return(0,n.A)((0,n.A)({},o),t)})(s);return(0,G.jsx)(H,(0,n.A)((0,n.A)({component:"p",variant:"body1",color:"textSecondary",ref:o,ownerState:s,className:(0,W.A)(i.root,a)},t),{},{classes:i}))});var O=t(6732),_=t(2191),Y=t(86057),U=t(6503),Z=t(45530),$=t(94305),J=t(98506),K=t(89470),Q=t(93570);const X=e=>{let{password:o,confirmPassword:t="",showConfirmMatch:r=!1}=e;const n=o.split("").some(e=>e>="A"&&e<="Z"),a=o.split("").some(e=>e>="a"&&e<="z"),i=o.split("").some(e=>e>="0"&&e<="9"),l=o.split("").some(e=>'!@#$%^&*(),.?":{}|<>'.includes(e)),d=[{label:"At least 8 characters",met:o.length>=8},{label:"Contains uppercase letter",met:n},{label:"Contains lowercase letter",met:a},{label:"Contains number",met:i},{label:"Contains special character (!@#$%^&*)",met:l}],c=!r||!t||o===t,u=d.filter(e=>e.met).length/d.length*100,{level:p,color:h}=u<40?{level:"Weak",color:"error.main"}:u<80?{level:"Medium",color:"warning.main"}:{level:"Strong",color:"success.main"};return(0,G.jsx)(s.A,{sx:{mt:1,mb:2},children:o&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(s.A,{sx:{mb:2},children:[(0,G.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[(0,G.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"Password Strength:"}),(0,G.jsx)($.A,{label:p,size:"small",sx:{bgcolor:h,color:"white",fontWeight:"bold",fontSize:"0.75rem"}})]}),(0,G.jsx)(J.A,{variant:"determinate",value:u,sx:{height:8,borderRadius:4,bgcolor:"grey.200","& .MuiLinearProgress-bar":{bgcolor:h,borderRadius:4}}})]}),(0,G.jsxs)(s.A,{sx:{mb:2},children:[(0,G.jsx)(m.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Password Requirements:"}),(0,G.jsx)(s.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:d.map((e,o)=>(0,G.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.met?(0,G.jsx)(K.A,{sx:{color:"success.main",fontSize:16}}):(0,G.jsx)(Q.A,{sx:{color:"error.main",fontSize:16}}),(0,G.jsx)(m.A,{variant:"body2",sx:{color:e.met?"success.main":"text.secondary",textDecoration:e.met?"line-through":"none"},children:e.label})]},o))})]}),r&&t&&(0,G.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[c?(0,G.jsx)(K.A,{sx:{color:"success.main",fontSize:16}}):(0,G.jsx)(Q.A,{sx:{color:"error.main",fontSize:16}}),(0,G.jsx)(m.A,{variant:"body2",sx:{color:c?"success.main":"error.main"},children:c?"Passwords match":"Passwords do not match"})]})]})})};var ee=t(23670);const oe=(0,t(47666).A)((0,G.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock");function te(e){let{open:o,handleClose:t,initialEmail:r}=e;const[n,l]=a.useState(!1),[d,c]=a.useState(null),[u,g]=a.useState(null),[x,b]=a.useState("request"),[v,k]=a.useState(""),[S,C]=a.useState(["","","","","",""]),[P,I]=a.useState(!1),[R,W]=a.useState(0),[D,T]=a.useState(""),[B,E]=a.useState(""),[N,q]=a.useState(!1),[L,H]=a.useState(!1);a.useEffect(()=>{o&&r&&!v&&k(r)},[o,r]);const $="undefined"!==typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname);a.useEffect(()=>{if("confirm"===x&&R>0){const e=setInterval(()=>{W(e=>e>0?e-1:0)},1e3);return()=>clearInterval(e)}},[x,R]);const J=S.join(""),Q=e=>{const o=e.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(0===o.length)return;const t=o.split("");C([t[0]||"",t[1]||"",t[2]||"",t[3]||"",t[4]||"",t[5]||""])},te=async e=>{null===e||void 0===e||e.preventDefault(),c(null),g(null),l(!0);try{const e=null===v||void 0===v?void 0:v.trim();if(!e)return void c("Please enter your email address.");const t=await Z.R2.requestPasswordReset(e);if(t&&t.success){var o;if(g("We've sent a 6-digit code to your email. Enter it below to verify."),t.debugToken&&$){const e=String(t.debugToken).replace(/\D/g,"").slice(0,6).split("");C([e[0]||"",e[1]||"",e[2]||"",e[3]||"",e[4]||"",e[5]||""])}b("confirm"),W(null!==(o=null===t||void 0===t?void 0:t.resendDelay)&&void 0!==o?o:30),I(!1)}else c(t&&t.error||"Failed to request password reset.")}catch(n){var t,r;c((null===n||void 0===n||null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||(null===n||void 0===n?void 0:n.message)||"Failed to request password reset.")}finally{l(!1)}};return(0,G.jsxs)(M.A,{open:o,onClose:t,PaperProps:{component:"form",onSubmit:"request"===x?te:P?async e=>{e.preventDefault(),c(null),g(null),l(!0);try{const e=null===v||void 0===v?void 0:v.trim(),t=null===D||void 0===D?void 0:D.trim();if(!e)return void c("Please enter your email address.");if(!/^[0-9]{6}$/.test(J))return void c("Please enter the 6-digit code sent to your email.");if(!t)return void c("Please enter your new password.");const r=(e=>{const o=[];return e.length<8&&o.push("Password must be at least 8 characters long"),e.split("").some(e=>e>="A"&&e<="Z")||o.push("Password must contain at least one uppercase letter"),e.split("").some(e=>e>="a"&&e<="z")||o.push("Password must contain at least one lowercase letter"),e.split("").some(e=>e>="0"&&e<="9")||o.push("Password must contain at least one number"),e.split("").some(e=>'!@#$%^&*(),.?":{}|<>'.includes(e))||o.push("Password must contain at least one special character"),{isValid:0===o.length,errors:o}})(t);var o;if(!r.isValid)return void c((null===(o=r.errors)||void 0===o?void 0:o[0])||"Password is too weak. Please choose a stronger password.");if(t!==B)return void c("Passwords do not match.");const n={email:e,newPassword:t,token:J},a=await Z.R2.confirmPasswordReset(n);a&&a.success?g("Your password has been reset successfully. You can now sign in."):c(a&&a.error||"Failed to reset password.")}catch(s){var t,r,n,a;"no_active_reset"===(null===s||void 0===s||null===(t=s.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.errorType)&&b("request"),c((null===s||void 0===s||null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||(null===s||void 0===s?void 0:s.message)||"Failed to reset password.")}finally{l(!1)}}:async e=>{e.preventDefault(),c(null),g(null),l(!0);try{const e=null===v||void 0===v?void 0:v.trim();if(!e)return void c("Please enter your email address.");if(!/^[0-9]{6}$/.test(J))return void c("Please enter the 6-digit code sent to your email.");const o=await Z.R2.verifyOtp({email:e,token:J});o&&o.success?(I(!0),g("Code verified! You can now set a new password.")):c(o&&o.error||"Failed to verify code.")}catch(a){var o,t,r,n;"no_active_reset"===(null===a||void 0===a||null===(o=a.response)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.errorType)&&b("request"),c((null===a||void 0===a||null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||(null===a||void 0===a?void 0:a.message)||"Failed to verify code.")}finally{l(!1)}},sx:{borderRadius:"16px",background:"linear-gradient(135deg, #48cedb 0%, #2fa7b8 100%)",boxShadow:"0 8px 32px rgba(72, 206, 219, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)"}},maxWidth:"sm",fullWidth:!0,children:[(0,G.jsx)(O.A,{sx:{pb:1,pt:3,color:"#fff"},children:(0,G.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:["request"===x&&(0,G.jsx)(ee.A,{sx:{color:"#fff",fontSize:28}}),"confirm"===x&&!P&&(0,G.jsx)(oe,{sx:{color:"#fff",fontSize:28}}),"confirm"===x&&P&&(0,G.jsx)(K.A,{sx:{color:"#fff",fontSize:28}}),(0,G.jsx)(m.A,{variant:"h5",sx:{fontWeight:700,color:"#fff"},children:"request"===x?"Reset Password":P?"Create New Password":"Verify Your Code"})]})}),(0,G.jsxs)(F.A,{sx:{display:"flex",flexDirection:"column",gap:2.5,width:"100%",py:2},children:[(0,G.jsx)(V,{sx:{fontSize:"0.95rem",color:"rgba(255,255,255,0.95)",lineHeight:1.6,fontWeight:500},children:"request"===x?"We'll send a secure code to your email address. This code is valid for 10 minutes.":P?"Great! Your code is verified. Create a strong password below.":"Check your email inbox for the 6-digit code. If you don't see it, check your spam folder."}),d&&(0,G.jsx)(Y.A,{severity:"error",sx:{borderRadius:"10px",fontSize:"0.9rem",bgcolor:"rgba(244, 67, 54, 0.15)",color:"#fff",border:"1px solid rgba(244, 67, 54, 0.3)","& .MuiAlert-icon":{color:"#fff"}},children:d}),u&&(0,G.jsx)(Y.A,{severity:"success",sx:{borderRadius:"10px",fontSize:"0.9rem",bgcolor:"rgba(76, 175, 80, 0.15)",color:"#fff",border:"1px solid rgba(76, 175, 80, 0.3)","& .MuiAlert-icon":{color:"#fff"}},children:u}),(0,G.jsxs)(h.A,{fullWidth:!0,children:[(0,G.jsx)(p.A,{htmlFor:"reset-email",sx:{mb:1,fontWeight:600,color:"#fff"},children:"Email Address"}),(0,G.jsx)(f.A,{autoFocus:!0,required:!0,id:"reset-email",name:"email",placeholder:"your@email.com",type:"email",fullWidth:!0,variant:"outlined",value:v,onChange:e=>k(e.target.value),disabled:"confirm"===x,sx:{"& .MuiOutlinedInput-root":{borderRadius:"10px",backgroundColor:"rgba(255, 255, 255, 0.95)",color:"#0f172a","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.6)"},"&.Mui-focused fieldset":{borderColor:"#fff",borderWidth:2},"&.Mui-disabled":{backgroundColor:"rgba(255, 255, 255, 0.7)",opacity:.7}}},InputProps:{startAdornment:(0,G.jsx)(w.A,{position:"start",children:(0,G.jsx)(ee.A,{sx:{color:"#64748b",fontSize:20}})})}})]}),"confirm"===x&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(s.A,{children:[(0,G.jsx)(p.A,{sx:{display:"block",mb:1.5,fontWeight:600,color:"#fff"},children:"Enter 6-Digit Code"}),(0,G.jsx)(s.A,{sx:{display:"flex",gap:1,justifyContent:"center",mb:2},children:S.map((e,o)=>(0,G.jsx)(_.A,{inputProps:{inputMode:"numeric",pattern:"[0-9]*",maxLength:1,style:{textAlign:"center",fontWeight:700,fontSize:20,width:45,height:45},autoComplete:"one-time-code"},value:e,onChange:e=>((e,o)=>{const t=(o||"").replace(/\D/g,"").slice(0,1);C(o=>{const r=[...o];return r[e]=t,r})})(o,e.target.value),onPaste:0===o?Q:void 0,sx:{borderRadius:"10px",backgroundColor:"rgba(255, 255, 255, 0.95)",transition:"all 0.3s ease","& fieldset":{borderColor:"rgba(255, 255, 255, 0.4)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.7)"},"&.Mui-focused fieldset":{borderColor:"#fff",borderWidth:2}}},o))}),(0,G.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem",color:"rgba(255,255,255,0.9)"},children:[(0,G.jsx)(m.A,{sx:{fontSize:"0.85rem",color:"rgba(255,255,255,0.9)"},children:R>0?"\u23f1\ufe0f Resend code in ".concat(R,"s"):"\u2713 Ready to resend"}),(0,G.jsx)(i.A,{size:"small",disabled:R>0||n,onClick:te,sx:{textTransform:"none",color:"#fff",fontWeight:600,bgcolor:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 255, 255, 0.3)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.25)"},"&:disabled":{color:"rgba(255,255,255,0.4)",borderColor:"rgba(255,255,255,0.2)"}},children:"Resend Code"})]})]}),P&&(0,G.jsxs)(s.A,{sx:{pt:2,borderTop:"1px solid #e5e7eb",display:"flex",flexDirection:"column",gap:2},children:[(0,G.jsx)(m.A,{sx:{fontWeight:600,color:"#fff",fontSize:"1rem"},children:"Create a Strong Password"}),(0,G.jsxs)(h.A,{fullWidth:!0,children:[(0,G.jsx)(p.A,{htmlFor:"new-password",sx:{mb:1,fontWeight:500,color:"rgba(255,255,255,0.95)"},children:"New Password"}),(0,G.jsx)(f.A,{required:!0,id:"new-password",name:"newPassword",placeholder:"Enter new password",type:N?"text":"password",fullWidth:!0,variant:"outlined",value:D,onChange:e=>T(e.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px",backgroundColor:"#ffffff","&:hover fieldset":{borderColor:"#2563eb"},"&.Mui-focused fieldset":{borderColor:"#2563eb",borderWidth:2}}},InputProps:{startAdornment:(0,G.jsx)(w.A,{position:"start",children:(0,G.jsx)(oe,{sx:{color:"#6b7280",fontSize:20}})}),endAdornment:(0,G.jsx)(w.A,{position:"end",children:(0,G.jsx)(y.A,{"aria-label":"toggle password visibility",onClick:()=>q(e=>!e),onMouseDown:e=>e.preventDefault(),edge:"end",size:"small",children:N?(0,G.jsx)(j.A,{}):(0,G.jsx)(A.A,{})})})}})]}),D&&(0,G.jsx)(s.A,{sx:{py:1},children:(0,G.jsx)(X,{password:D})}),(0,G.jsxs)(h.A,{fullWidth:!0,children:[(0,G.jsx)(p.A,{htmlFor:"confirm-password",sx:{mb:1,fontWeight:500,color:"rgba(255,255,255,0.95)"},children:"Confirm Password"}),(0,G.jsx)(f.A,{required:!0,id:"confirm-password",name:"confirmPassword",placeholder:"Confirm new password",type:L?"text":"password",fullWidth:!0,variant:"outlined",value:B,onChange:e=>E(e.target.value),error:""!==B&&D!==B,helperText:""!==B&&D!==B?"Passwords do not match":"",sx:{"& .MuiOutlinedInput-root":{borderRadius:"8px",backgroundColor:"#ffffff","&:hover fieldset":{borderColor:"#2563eb"},"&.Mui-focused fieldset":{borderColor:"#2563eb",borderWidth:2}}},InputProps:{startAdornment:(0,G.jsx)(w.A,{position:"start",children:(0,G.jsx)(oe,{sx:{color:"#6b7280",fontSize:20}})}),endAdornment:(0,G.jsx)(w.A,{position:"end",children:(0,G.jsx)(y.A,{"aria-label":"toggle password visibility",onClick:()=>H(e=>!e),onMouseDown:e=>e.preventDefault(),edge:"end",size:"small",children:L?(0,G.jsx)(j.A,{}):(0,G.jsx)(A.A,{})})})}})]})]})]})]}),(0,G.jsxs)(z.A,{sx:{gap:1,pb:2.5,px:3},children:[(0,G.jsx)(i.A,{onClick:t,variant:"outlined",sx:{textTransform:"none",color:"#fff",borderColor:"rgba(255, 255, 255, 0.4)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.6)"}},children:"Cancel"}),(0,G.jsx)(s.A,{sx:{position:"relative"},children:(0,G.jsx)(i.A,{variant:"contained",type:"submit",disabled:n||"confirm"===x&&!P&&6!==J.length,sx:{textTransform:"none",fontWeight:600,boxShadow:"0 4px 16px rgba(15, 23, 42, 0.3)",backgroundColor:"#0f172a !important",color:"#fff !important","&:hover":{backgroundColor:"#1e293b !important",boxShadow:"0 6px 20px rgba(15, 23, 42, 0.4)"},"&:disabled":{backgroundColor:"rgba(15, 23, 42, 0.4) !important",color:"rgba(255,255,255,0.6) !important",boxShadow:"none"},transition:"all 0.3s ease",minWidth:140},children:n?(0,G.jsx)(U.A,{size:20,sx:{color:"white"}}):"request"===x?"Send Code":P?"Reset Password":"Verify Code"})})]})]})}var re,ne=t(92994),ae=t(82281),se=t(437),ie=t(86633),le=t(82720),de=t(95551),ce=t(43405);const ue=(0,v.Ay)(b.A)(e=>{let{theme:o}=e;return(0,n.A)({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:o.spacing(4),gap:o.spacing(2),margin:"auto",[o.breakpoints.up("sm")]:{maxWidth:"450px"},boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px"},o.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"}))}),pe=((0,k.i7)(re||(re=(0,r.A)(["\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n"]))),(0,v.Ay)(x.A)(e=>{let{theme:o}=e;return{minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, #2da6b3 0%, #48cedb 50%, #1a8895 100%)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",padding:o.spacing(3),"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",animation:"pulse 8s ease-in-out infinite"},"&::after":{content:'""',position:"absolute",top:"-50%",right:"-10%",width:"80%",height:"80%",background:"rgba(255,255,255,0.05)",borderRadius:"50%",animation:"float 15s ease-in-out infinite"},"@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.8}},"@keyframes float":{"0%, 100%":{transform:"translate(0, 0) rotate(0deg)"},"33%":{transform:"translate(30px, -30px) rotate(120deg)"},"66%":{transform:"translate(-20px, 20px) rotate(240deg)"}}}})),he=(0,v.Ay)(s.A)(e=>{let{theme:o}=e;return{position:"relative",zIndex:1,width:"100%",maxWidth:"1400px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:o.spacing(6),alignItems:"center",[o.breakpoints.down("lg")]:{gridTemplateColumns:"1fr",maxWidth:"500px"}}});function ge(e){var o;const[t,r]=a.useState(!1),[b,v]=a.useState(""),[k,M]=a.useState(!1),[z,F]=a.useState(""),[R,W]=a.useState(!1),[D,T]=a.useState(!1),[B,E]=a.useState(0),[N,q]=a.useState(""),[L,H]=a.useState(""),[V,O]=a.useState(!1),_=(0,ne.Zp)(),{hydrateBackendSession:Y}=(0,ce.A)(),U="Welcome Back!";a.useEffect(()=>{let e=0;const o=setInterval(()=>{e<13?(e++,q(U.slice(0,e))):clearInterval(o)},100);return()=>clearInterval(o)},[]);const $="A little push to get you there";a.useEffect(()=>{let e=0;const o=setInterval(()=>{e<=30?(H($.slice(0,e)),e++):clearInterval(o)},80);return()=>clearInterval(o)},[]);const J=[{icon:S.A,title:"Device Protection",description:"Comprehensive coverage for all your gadgets with instant claims and repairs"},{icon:C.A,title:"Flexible Payment Plans",description:"Buy now, pay later with our easy installment options tailored for you"},{icon:P.A,title:"Trade-In Program",description:"Turn your old devices into value and upgrade to the latest technology"},{icon:I.A,title:"Exclusive Deals",description:"Members-only discounts and early access to new product launches"}];a.useEffect(()=>{const e=setInterval(()=>{E(e=>(e+1)%J.length)},4e3);return()=>clearInterval(e)},[J.length]);const K=()=>{const e=document.getElementById("email"),o=document.getElementById("password");let t=!0;return e.value&&/\S+@\S+\.\S+/.test(e.value)?(r(!1),v("")):(r(!0),v("Please enter a valid email address."),t=!1),!o.value||o.value.length<6?(M(!0),F("Password must be at least 6 characters long."),t=!1):(M(!1),F("")),t};return(0,G.jsxs)(se.A,(0,n.A)((0,n.A)({},e),{},{children:[(0,G.jsx)(d.Ay,{}),(0,G.jsxs)(pe,{children:[(0,G.jsx)(s.A,{sx:{position:"absolute",top:60,left:60,width:80,height:80,borderRadius:"50%",background:"rgba(255,255,255,0.1)",animation:"float 6s ease-in-out infinite",zIndex:0}}),(0,G.jsx)(s.A,{sx:{position:"absolute",bottom:80,right:80,width:100,height:100,borderRadius:"50%",background:"rgba(255,255,255,0.08)",animation:"float 8s ease-in-out infinite reverse",zIndex:0}}),(0,G.jsx)(s.A,{sx:{position:"absolute",top:"50%",left:100,width:60,height:60,borderRadius:"30%",background:"rgba(255,255,255,0.09)",animation:"float 10s ease-in-out infinite",transform:"rotate(45deg)",zIndex:0}}),(0,G.jsxs)(he,{children:[(0,G.jsxs)(s.A,{sx:{display:{xs:"none",lg:"block"},textAlign:"center"},children:[(0,G.jsx)(s.A,{onClick:()=>_("/"),sx:{cursor:"pointer",display:"flex",justifyContent:"center",mb:4,filter:"brightness(0) invert(1)"},children:(0,G.jsx)(ie.A,{style:{width:"280px",height:"auto"}})}),(0,G.jsx)(m.A,{variant:"h2",sx:{color:"white",fontWeight:800,mb:6,fontSize:{xs:"2.5rem",md:"3rem"},textShadow:"0 4px 20px rgba(0,0,0,0.2)",minHeight:{xs:"3.5rem",md:"4rem"}},children:N}),(0,G.jsx)(s.A,{sx:{position:"relative",minHeight:280,display:"flex",alignItems:"center",justifyContent:"center"},children:J.map((e,o)=>(0,G.jsxs)(s.A,{sx:{position:"absolute",width:"100%",opacity:B===o?1:0,transform:B===o?"scale(1) translateY(0)":"scale(0.95) translateY(20px)",transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",pointerEvents:B===o?"auto":"none",textAlign:"center"},children:[(0,G.jsx)(s.A,{component:e.icon,sx:{fontSize:{xs:"4rem",md:"5rem"},mb:2,color:"white",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}}),(0,G.jsx)(m.A,{variant:"h4",sx:{color:"white",fontWeight:700,mb:2,fontSize:{xs:"1.5rem",md:"1.8rem"},textShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:e.title}),(0,G.jsx)(m.A,{variant:"body1",sx:{color:"rgba(255,255,255,0.95)",lineHeight:1.7,fontSize:{xs:"1rem",md:"1.1rem"},textShadow:"0 1px 4px rgba(0,0,0,0.2)"},children:e.description})]},o))}),(0,G.jsx)(x.A,{direction:"row",spacing:1.5,justifyContent:"center",sx:{mt:4},children:J.map((e,o)=>(0,G.jsx)(s.A,{onClick:()=>E(o),sx:{width:B===o?32:12,height:12,borderRadius:6,background:B===o?"white":"rgba(255,255,255,0.4)",cursor:"pointer",transition:"all 0.4s ease","&:hover":{background:"white",transform:"scale(1.15)"}}},o))})]}),(0,G.jsxs)(s.A,{children:[(0,G.jsx)(s.A,{onClick:()=>_("/"),sx:{cursor:"pointer",display:{xs:"flex",lg:"none"},justifyContent:"center",mb:3,filter:"brightness(0) invert(1)"},children:(0,G.jsx)(ie.A,{style:{width:"180px",height:"auto"}})}),(0,G.jsx)(m.A,{variant:"h5",sx:{display:{xs:"block",lg:"none"},color:"white",textAlign:"center",mb:4,fontSize:"1.1rem",fontWeight:300,minHeight:"2rem","&::after":{content:'"|"',marginLeft:"4px",animation:"blink 1s step-end infinite",opacity:L.length<30?1:0},"@keyframes blink":{"50%":{opacity:0}}},children:L}),(0,G.jsxs)(ue,{variant:"outlined",sx:{background:"linear-gradient(145deg, #1a1a1a 0%, #2d2d2d 100%)",backdropFilter:"blur(20px)",border:"2px solid rgba(45, 166, 179, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(45, 166, 179, 0.1)",color:"#ffffff","& .MuiFormLabel-root":{color:"#b0b0b0","&.Mui-focused":{color:"#48cedb"}},"& .MuiTextField-root":{"& .MuiOutlinedInput-root":{backgroundColor:"#0a0a0a",color:"#ffffff","& fieldset":{borderColor:"#404040"},"&:hover fieldset":{borderColor:"#2da6b3"},"&.Mui-focused fieldset":{borderColor:"#48cedb",borderWidth:"2px"},"& input":{color:"#ffffff"},"& input::placeholder":{color:"#606060",opacity:1}}},"& .MuiTypography-root":{color:"#ffffff"},"& .MuiLink-root":{color:"#48cedb","&:hover":{color:"#2da6b3"}},"& .MuiCheckbox-root":{color:"#48cedb","&.Mui-checked":{color:"#48cedb"}},"& .MuiFormControlLabel-label":{color:"#b0b0b0"},"& .MuiButton-contained":{background:"linear-gradient(135deg, #2da6b3 0%, #48cedb 100%)",color:"#ffffff",fontWeight:600,boxShadow:"0 4px 12px rgba(45, 166, 179, 0.4)","&:hover":{background:"linear-gradient(135deg, #1a8895 0%, #2da6b3 100%)",boxShadow:"0 6px 16px rgba(45, 166, 179, 0.5)"}},"& .MuiButton-outlined":{borderColor:"#404040",color:"#ffffff",backgroundColor:"#0a0a0a","&:hover":{borderColor:"#48cedb",backgroundColor:"rgba(45, 166, 179, 0.08)"}},"& .MuiDivider-root":{borderColor:"#404040",color:"#808080","&::before, &::after":{borderColor:"#404040"}},"& .MuiIconButton-root":{color:"#b0b0b0","&:hover":{color:"#48cedb"}}},children:[(0,G.jsx)(m.A,{component:"h1",variant:"h4",sx:{width:"100%",fontSize:"clamp(2rem, 10vw, 2rem)",textAlign:"center",fontWeight:700},children:"Sign in"}),(0,G.jsxs)(s.A,{component:"form",onSubmit:async e=>{e.preventDefault();const o=document.getElementById("email"),t=document.getElementById("password");if(K())try{console.log("\ud83d\udd04 Attempting sign in with backend (email/password) ...");try{const e=await Z.R2.login({email:o.value,password:t.value});if(console.log("\u2705 Backend login response:",e),null!==e&&void 0!==e&&e.success){localStorage.setItem("backendUser",JSON.stringify(e.user)),localStorage.setItem("backendSession","true"),("admin"===(null===e||void 0===e?void 0:e.accountType)||null!==e&&void 0!==e&&e.bypassFirebase)&&(localStorage.setItem("adminUser",JSON.stringify(e.user)),localStorage.setItem("adminSession","true"));try{await Y(e.user)}catch(i){console.warn("Failed to hydrate backend session in context:",i)}return console.log("\ud83c\udfe0 Backend authentication complete - redirecting to dashboard..."),void _("/dashboard")}}catch(l){var n,a,s;console.log("\u26a0\ufe0f Backend login failed, evaluating error...",null===l||void 0===l||null===(n=l.response)||void 0===n?void 0:n.data);const e=null===l||void 0===l||null===(a=l.response)||void 0===a?void 0:a.data;if(401===(null===l||void 0===l||null===(s=l.response)||void 0===s?void 0:s.status)){if("user_not_found"===(null===e||void 0===e?void 0:e.errorType))return r(!0),v("No account found with this email address"),void alert("No account found with this email address. Please sign up first.");if("password_not_set"===(null===e||void 0===e?void 0:e.errorType))return M(!0),F("No password set for this account. Please create a new one."),void W(!0);if("invalid_password"===(null===e||void 0===e?void 0:e.errorType))return M(!0),F("admin"===(null===e||void 0===e?void 0:e.accountType)?"Invalid admin password":"Invalid password"),void W(!0)}if("wrong_signup_method"===(null===e||void 0===e?void 0:e.errorType)){if("google"===(null===e||void 0===e?void 0:e.signupMethod)){const e='This account was created with Google sign-in. Please use "Sign in with Google" instead.';return M(!0),F("Use Google sign-in"),r(!0),v("Google account detected"),void alert(e)}}return console.log("\u26d4 No Firebase fallback. Enforcing DB-only login."),M(!0),void F("Login failed. Please check your credentials.")}}catch(d){console.error("\u274c Sign-in error:",d);let e="Sign-in failed. Please try again.";switch(d.code){case"auth/user-not-found":e="No account found with this email address.",r(!0),v("Email not found");break;case"auth/wrong-password":e="Incorrect password. Please try again.",M(!0),F("Incorrect password");break;case"auth/invalid-email":e="Please enter a valid email address.",r(!0),v("Invalid email format");break;case"auth/too-many-requests":e="Too many failed attempts. Please try again later.",M(!0),F("Account temporarily locked");break;case"auth/network-request-failed":e="Network error. Please check your connection and try again.";break;case"auth/invalid-credential":e="Invalid email or password. Please check your credentials.",r(!0),M(!0),v("Invalid credentials"),F("Invalid credentials");break;default:r(!0),M(!0),v("Invalid email or password"),F("Invalid email or password"),e="Invalid email or password. Please check your credentials and try again."}alert(e)}},noValidate:!0,sx:{display:"flex",flexDirection:"column",width:"100%",gap:2},children:[(0,G.jsxs)(h.A,{children:[(0,G.jsx)(p.A,{htmlFor:"email",children:"Email"}),(0,G.jsx)(f.A,{error:t,helperText:b,id:"email",type:"email",name:"email",placeholder:"your@email.com",autoComplete:"email",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",color:t?"error":"primary",sx:{ariaLabel:"email"}})]}),(0,G.jsxs)(h.A,{children:[(0,G.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,G.jsx)(p.A,{htmlFor:"password",children:"Password"}),(0,G.jsx)(g.A,{component:"button",type:"button",onClick:()=>{W(!0)},variant:"body2",sx:{alignSelf:"baseline"},children:"Forgot your password?"})]}),(0,G.jsx)(f.A,{error:k,helperText:z,name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022",type:D?"text":"password",id:"password",autoComplete:"current-password",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",color:k?"error":"primary",InputProps:{endAdornment:(0,G.jsx)(w.A,{position:"end",children:(0,G.jsx)(y.A,{"aria-label":"toggle password visibility",onClick:()=>T(e=>!e),onMouseDown:e=>e.preventDefault(),edge:"end",children:D?(0,G.jsx)(j.A,{}):(0,G.jsx)(A.A,{})})})}})]}),(0,G.jsx)(c.A,{control:(0,G.jsx)(l.A,{value:"remember",color:"primary"}),label:"Remember me"}),(0,G.jsx)(te,{open:R,handleClose:()=>{W(!1)},initialEmail:(null===(o=document.getElementById("email"))||void 0===o?void 0:o.value)||""}),(0,G.jsx)(i.A,{type:"submit",fullWidth:!0,variant:"contained",children:"Sign in"}),(0,G.jsxs)(m.A,{sx:{textAlign:"center"},children:["Don't have an account?"," ",(0,G.jsx)("span",{children:(0,G.jsx)(g.A,{component:ne.N_,to:"/signup",variant:"body2",sx:{alignSelf:"center"},children:"Sign up"})})]})]}),(0,G.jsx)(u.A,{children:"or"}),(0,G.jsx)(s.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:(0,G.jsx)(i.A,{fullWidth:!0,variant:"outlined",onClick:async()=>{O(!0);try{console.log("\ud83d\udd04 Initiating Google Sign-In...");(0,le.c7)()||console.warn("\u26a0\ufe0f Domain authorization check failed - proceeding anyway for production");const i=le.Mn;console.log("\ud83d\udd10 Starting Google OAuth popup...");const l=(await(0,le.df)(le.j2,i)).user;console.log("\u2705 Google Sign-In Successful:",{uid:l.uid,email:l.email,displayName:l.displayName,domain:window.location.hostname});try{console.log("\ud83d\udce1 Registering/Syncing Google account with backend...");const e=await Z.R2.register({uid:l.uid,email:l.email,displayName:l.displayName,signupMethod:"google",domain:window.location.hostname});if(console.log("\u2705 Backend Google registration successful"),null!==e&&void 0!==e&&e.success&&null!==e&&void 0!==e&&e.user){localStorage.setItem("backendUser",JSON.stringify(e.user)),localStorage.setItem("backendSession","true");try{await Y(e.user)}catch(n){console.warn("Hydrate failed:",n)}_("/dashboard")}}catch(a){var e,o,t;console.warn("\u26a0\ufe0f Backend registration failed:",(null===a||void 0===a||null===(e=a.response)||void 0===e?void 0:e.data)||(null===a||void 0===a?void 0:a.message));if("email_password"===(null===a||void 0===a||null===(o=a.response)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.existingSignupMethod)){console.log("\ud83d\udd17 Existing email/password account detected \u2014 attempting auto-link");try{const e=await Z.R2.linkGoogle({email:String(l.email||""),googleUid:String(l.uid),displayName:String(l.displayName||"")});if(null!==e&&void 0!==e&&e.success&&null!==e&&void 0!==e&&e.user){console.log("\u2705 Google account linked to existing email/password user"),localStorage.setItem("backendUser",JSON.stringify(e.user)),localStorage.setItem("backendSession","true");try{await Y(e.user)}catch(n){console.warn("Hydrate failed:",n)}_("/dashboard")}else O(!1),alert("An account with this email already exists. Please sign in with your email and password, then link Google in your account settings."),await(0,de.CI)(le.j2)}catch(s){var r;O(!1),console.error("\u274c Linking failed:",(null===s||void 0===s||null===(r=s.response)||void 0===r?void 0:r.data)||(null===s||void 0===s?void 0:s.message)),alert("An account with this email already exists. Please sign in with your email and password, then link Google in your account settings."),await(0,de.CI)(le.j2)}}else console.warn("Proceeding without backend session due to non-linkable error"),_("/dashboard")}}catch(i){O(!1),console.error("\u274c Google Sign-In Error:",i);let e="unknown",o="Unknown error";if("object"===typeof i&&null!==i){const t=i;"string"===typeof t.code&&(e=t.code),"string"===typeof t.message&&(o=t.message)}console.error("\ud83d\udcdd Full error context:",{code:e,message:o,domain:window.location.hostname});let t="Sign-in with Google failed. Please try again.";switch(e){case"auth/popup-closed-by-user":t="Sign-in was cancelled. Please try again.";break;case"auth/popup-blocked":t="Pop-up was blocked. Please enable pop-ups in your browser settings and try again.";break;case"auth/network-request-failed":t="Network error. Please check your internet connection and try again.";break;case"auth/unauthorized-domain":t="This domain is not authorized for Google sign-in. Please contact support.";break;case"auth/operation-not-allowed":t="Google sign-in is not enabled. Please contact support.";break;case"auth/account-exists-with-different-credential":t="An account with this email exists with a different sign-in method. Try signing in with email/password instead.";break;case"auth/internal-error":t="Internal authentication error. Please try again or contact support.";break;default:t="unknown"===e?"Sign-in failed. Please try again.":"Authentication failed: ".concat(o)}alert(t)}},disabled:V,startIcon:(0,G.jsx)(ae.NR,{}),children:V?"Signing in...":"Sign in with Google"})})]})]})]})]})]}))}},62039(e,o,t){t.d(o,{A:()=>y});var r=t(89379),n=t(80045),a=t(9950),s=t(65698),i=t(4927),l=t(65815),d=t(96195),c=t(63568),u=t(92073),p=t(24350),h=t(54212),g=t(43396);function f(e){return(0,g.Ay)("PrivateSwitchBase",e)}(0,h.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var m=t(61670),x=t(44414);const b=["autoFocus","checked","checkedIcon","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value","slots","slotProps"],v=(0,d.Ay)(p.A,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:o,ownerState:t}=e;return"start"===o&&"small"!==t.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:o,ownerState:t}=e;return"end"===o&&"small"!==t.size},style:{marginRight:-12}}]}),w=(0,d.Ay)("input",{name:"MuiSwitchBase",shouldForwardProp:l.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),y=a.forwardRef(function(e,o){const{autoFocus:t,checked:a,checkedIcon:l,defaultChecked:d,disabled:p,disableFocusRipple:h=!1,edge:g=!1,icon:y,id:A,inputProps:j,inputRef:k,name:S,onBlur:C,onChange:P,onFocus:I,readOnly:M,required:z=!1,tabIndex:F,type:R,value:W,slots:D={},slotProps:T={}}=e,B=(0,n.A)(e,b),[E,N]=(0,c.A)({controlled:a,default:Boolean(d),name:"SwitchBase",state:"checked"}),q=(0,u.A)();let G=p;q&&"undefined"===typeof G&&(G=q.disabled);const L="checkbox"===R||"radio"===R,H=(0,r.A)((0,r.A)({},e),{},{checked:E,disabled:G,disableFocusRipple:h,edge:g}),V=(e=>{const{classes:o,checked:t,disabled:r,edge:n}=e,a={root:["root",t&&"checked",r&&"disabled",n&&"edge".concat((0,i.A)(n))],input:["input"]};return(0,s.A)(a,f,o)})(H),O={slots:D,slotProps:(0,r.A)({input:j},T)},[_,Y]=(0,m.A)("root",{ref:o,elementType:v,className:V.root,shouldForwardComponentProp:!0,externalForwardedProps:(0,r.A)((0,r.A)({},O),{},{component:"span"},B),getSlotProps:e=>(0,r.A)((0,r.A)({},e),{},{onFocus:o=>{var t;null===(t=e.onFocus)||void 0===t||t.call(e,o),(e=>{I&&I(e),q&&q.onFocus&&q.onFocus(e)})(o)},onBlur:o=>{var t;null===(t=e.onBlur)||void 0===t||t.call(e,o),(e=>{C&&C(e),q&&q.onBlur&&q.onBlur(e)})(o)}}),ownerState:H,additionalProps:{centerRipple:!0,focusRipple:!h,disabled:G,role:void 0,tabIndex:null}}),[U,Z]=(0,m.A)("input",{ref:k,elementType:w,className:V.input,externalForwardedProps:O,getSlotProps:e=>(0,r.A)((0,r.A)({},e),{},{onChange:o=>{var t;null===(t=e.onChange)||void 0===t||t.call(e,o),(e=>{if(e.nativeEvent.defaultPrevented)return;const o=e.target.checked;N(o),P&&P(e,o)})(o)}}),ownerState:H,additionalProps:(0,r.A)({autoFocus:t,checked:a,defaultChecked:d,disabled:G,id:L?A:void 0,name:S,readOnly:M,required:z,tabIndex:F,type:R},"checkbox"===R&&void 0===W?{}:{value:W})});return(0,x.jsxs)(_,(0,r.A)((0,r.A)({},Y),{},{children:[(0,x.jsx)(U,(0,r.A)({},Z)),E?l:y]}))})},82281(e,o,t){t.d(o,{NR:()=>a});t(9950);var r=t(39020),n=t(44414);function a(){return(0,n.jsx)(r.A,{children:(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M15.68 8.18182C15.68 7.61455 15.6291 7.06909 15.5345 6.54545H8V9.64364H12.3055C12.1164 10.64 11.5491 11.4836 10.6982 12.0509V14.0655H13.2945C14.8073 12.6691 15.68 10.6182 15.68 8.18182Z",fill:"#4285F4"}),(0,n.jsx)("path",{d:"M8 16C10.16 16 11.9709 15.2873 13.2945 14.0655L10.6982 12.0509C9.98545 12.5309 9.07636 12.8218 8 12.8218C5.92 12.8218 4.15273 11.4182 3.52 9.52727H0.858182V11.5927C2.17455 14.2036 4.87273 16 8 16Z",fill:"#34A853"}),(0,n.jsx)("path",{d:"M3.52 9.52C3.36 9.04 3.26545 8.53091 3.26545 8C3.26545 7.46909 3.36 6.96 3.52 6.48V4.41455H0.858182C0.312727 5.49091 0 6.70545 0 8C0 9.29455 0.312727 10.5091 0.858182 11.5855L2.93091 9.97091L3.52 9.52Z",fill:"#FBBC05"}),(0,n.jsx)("path",{d:"M8 3.18545C9.17818 3.18545 10.2255 3.59273 11.0618 4.37818L13.3527 2.08727C11.9636 0.792727 10.16 0 8 0C4.87273 0 2.17455 1.79636 0.858182 4.41455L3.52 6.48C4.15273 4.58909 5.92 3.18545 8 3.18545Z",fill:"#EA4335"})]})})}},93570(e,o,t){t.d(o,{A:()=>a});var r=t(47666),n=t(44414);const a=(0,r.A)((0,n.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")}}]);