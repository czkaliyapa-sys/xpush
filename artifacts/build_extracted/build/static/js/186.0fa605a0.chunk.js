"use strict";(self.webpackChunkitsxtrapush=self.webpackChunkitsxtrapush||[]).push([[186],{14186(e,t,a){a.r(t),a.d(t,{default:()=>U});var r=a(89379),i=a(9950),n=a(27321),o=a(22403),s=a(5332),l=a(55884),d=a(47872),c=a(87209),u=a(34244),p=a(92994),h=a(82503),m=a(98519),x=a(85105),g=a(55547),f=a(96195),b=a(5352),w=a(66424),y=a(39872),v=a(20599),A=a(80660),j=a(38370),S=a(31760),k=a(64074),C=a(66427),I=a(26574),P=a(82281),z=a(437),M=a(86633),W=a(82720),E=a(45530),F=a(43405),D=a(44414);(0,f.Ay)(g.A)(e=>{let{theme:t}=e;return(0,r.A)({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:t.spacing(4),gap:t.spacing(2),margin:"auto",[t.breakpoints.up("sm")]:{maxWidth:"450px"},boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px"},t.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"}))});const B=(0,f.Ay)(x.A)(e=>{let{theme:t}=e;return{minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, #2da6b3 0%, #48cedb 50%, #1a8895 100%)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",padding:t.spacing(3),"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255,255,255,0.15) 0%, transparent 50%)",animation:"pulse 8s ease-in-out infinite"},"&::after":{content:'""',position:"absolute",top:"-50%",right:"-10%",width:"80%",height:"80%",background:"rgba(255,255,255,0.05)",borderRadius:"50%",animation:"float 15s ease-in-out infinite"},"@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.8}},"@keyframes float":{"0%, 100%":{transform:"translate(0, 0) rotate(0deg)"},"33%":{transform:"translate(30px, -30px) rotate(120deg)"},"66%":{transform:"translate(-20px, 20px) rotate(240deg)"}}}}),N=(0,f.Ay)(n.A)(e=>{let{theme:t}=e;return{position:"relative",zIndex:1,width:"100%",maxWidth:"1400px",display:"grid",gridTemplateColumns:"1fr 1fr",gap:t.spacing(6),alignItems:"center",[t.breakpoints.down("lg")]:{gridTemplateColumns:"1fr",maxWidth:"500px"},[t.breakpoints.down("sm")]:{maxWidth:"100%",width:"calc(100% - 32px)"}}}),H=(0,f.Ay)(n.A)(e=>{let{theme:t}=e;return{flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",padding:t.spacing(2),[t.breakpoints.up("sm")]:{padding:t.spacing(4)},[t.breakpoints.down("md")]:{display:"none"}}}),T=(0,f.Ay)(n.A)(e=>{let{theme:t}=e;return{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:t.spacing(2),width:"100%",[t.breakpoints.down("md")]:{display:"flex"}}}),V=(0,f.Ay)(g.A)(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:t.spacing(3),gap:t.spacing(1.5),margin:"auto",position:"relative",zIndex:1,maxWidth:"520px",[t.breakpoints.down("sm")]:{padding:t.spacing(2),maxWidth:"100%"},background:"rgba(30, 30, 30, 0.95)",color:"#fff",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)","& .MuiTextField-root":{"& .MuiOutlinedInput-root":{color:"#fff","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.5)"},"&.Mui-focused fieldset":{borderColor:"#48cedb"}},"& .MuiOutlinedInput-input::placeholder":{color:"rgba(255, 255, 255, 0.5)",opacity:1}},"& .MuiFormLabel-root":{color:"rgba(255, 255, 255, 0.8)","&.Mui-focused":{color:"#48cedb"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.7)"}}});function U(e){const[t,a]=i.useState(!1),[g,f]=i.useState(""),[U,q]=i.useState(!1),[L,Z]=i.useState(""),[J,O]=i.useState(!1),[_,Y]=i.useState(""),[$,K]=i.useState(!1),[Q,X]=i.useState(""),[ee,te]=i.useState(!1),[ae,re]=i.useState(!1),[ie,ne]=i.useState(""),[oe,se]=i.useState(""),[le,de]=i.useState(0),[ce,ue]=i.useState(!1),pe=(0,p.Zp)(),{hydrateBackendSession:he}=(0,F.A)(),me=[{icon:j.A,title:"Device Protection",description:"Comprehensive coverage for all your gadgets with instant claims and repairs"},{icon:S.A,title:"Flexible Payment Plans",description:"Buy now, pay later with our easy installment options tailored for you"},{icon:k.A,title:"Trade-In Program",description:"Turn your old devices into value and upgrade to the latest technology"},{icon:C.A,title:"Fast Delivery",description:"Secure delivery you can trust, with speedy dispatch and careful handling"},{icon:I.A,title:"Exclusive Deals",description:"Members-only discounts and early access to new product launches"}];i.useEffect(()=>{const e=setInterval(()=>{de(e=>(e+1)%me.length)},4e3);return()=>clearInterval(e)},[me.length]);const xe=()=>{a(!1),f(""),q(!1),Z(""),O(!1),Y(""),K(!1),X("");const e=document.getElementById("email"),t=document.getElementById("name"),r=(document.getElementById("phone"),((null===e||void 0===e?void 0:e.value)||"").trim()),i=((null===t||void 0===t?void 0:t.value)||"").trim();let n=!0;r&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(a(!0),f(r?"Enter a valid email address":"Email is required"),n=!1),(!i||i.length<2)&&(q(!0),Z(i?"Name must be at least 2 characters":"Full name is required"),n=!1);const o=G(ie);return o.isValid||(O(!0),Y(o.errors[0]),n=!1),oe&&ie===oe||(K(!0),X(oe?"Passwords do not match":"Please confirm your password"),n=!1),n};return(0,D.jsxs)(z.A,(0,r.A)((0,r.A)({},e),{},{children:[(0,D.jsx)(s.Ay,{}),(0,D.jsx)(B,{children:(0,D.jsxs)(N,{children:[(0,D.jsx)(H,{children:(0,D.jsxs)(n.A,{sx:{textAlign:"center",maxWidth:550,position:"relative",zIndex:1},children:[(0,D.jsx)(n.A,{onClick:()=>pe("/"),sx:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",mb:3},children:(0,D.jsx)(M.A,{style:{width:"min(220px, 60vw)",height:"auto",filter:"brightness(0) invert(1)"}})}),(0,D.jsx)(m.A,{variant:"h2",sx:{color:"white",fontWeight:800,mb:6,fontSize:{xs:"2.5rem",md:"3rem"},textShadow:"0 4px 20px rgba(0,0,0,0.2)",minHeight:{xs:"3.5rem",md:"4rem"}},children:"Start Your Journey"}),(0,D.jsx)(n.A,{sx:{position:"relative",minHeight:300,display:"flex",alignItems:"center",justifyContent:"center"},children:me.map((e,t)=>(0,D.jsxs)(n.A,{sx:{position:"absolute",width:"100%",opacity:le===t?1:0,transform:le===t?"scale(1) translateY(0)":"scale(0.95) translateY(20px)",transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",pointerEvents:le===t?"auto":"none",textAlign:"center"},children:[(0,D.jsx)(n.A,{component:e.icon,sx:{fontSize:{xs:"4rem",md:"5rem"},mb:2,color:"white",filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.3))"}}),(0,D.jsx)(m.A,{variant:"h4",sx:{color:"white",fontWeight:700,mb:2,fontSize:{xs:"1.5rem",md:"1.8rem"},textShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:e.title}),(0,D.jsx)(m.A,{variant:"body1",sx:{color:"rgba(255,255,255,0.95)",lineHeight:1.7,fontSize:{xs:"1rem",md:"1.1rem"},textShadow:"0 1px 4px rgba(0,0,0,0.2)"},children:e.description})]},t))}),(0,D.jsx)(x.A,{direction:"row",spacing:1.5,justifyContent:"center",sx:{mt:4},children:me.map((e,t)=>(0,D.jsx)(n.A,{onClick:()=>de(t),sx:{width:le===t?32:12,height:12,borderRadius:6,background:le===t?"white":"rgba(255,255,255,0.4)",cursor:"pointer",transition:"all 0.4s ease","&:hover":{background:"white",transform:"scale(1.15)"}}},t))})]})}),(0,D.jsx)(T,{children:(0,D.jsxs)(V,{variant:"outlined",children:[(0,D.jsx)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:(0,D.jsx)(o.A,{startIcon:(0,D.jsx)(A.A,{}),onClick:()=>pe("/signin"),variant:"text",sx:{color:"#48cedb","&:hover":{background:"rgba(72, 206, 219, 0.1)"}},children:"Back"})}),(0,D.jsx)(m.A,{component:"h1",variant:"h5",sx:{width:"100%",fontSize:"clamp(1.3rem, 18vw, 1.4rem)",color:"#fff",textAlign:"center",mb:2},children:"Create Account"}),(0,D.jsxs)(n.A,{component:"form",onSubmit:async e=>{e.preventDefault();const t=document.getElementById("email"),r=document.getElementById("name"),i=(document.getElementById("phone"),document.getElementById("password"));if(xe())try{const e=G(i.value);if(!e.isValid)return O(!0),void Y(e.errors[0]);const a={uid:crypto.randomUUID(),email:t.value,fullName:r.value,signupMethod:"email_password",password:i.value,photoURL:null},n=await E.R2.register(a);if(!n||!n.success)throw new Error((null===n||void 0===n?void 0:n.error)||"Failed to save user data");if(null!==n&&void 0!==n&&n.user){localStorage.setItem("backendUser",JSON.stringify(n.user)),localStorage.setItem("backendSession","true");try{await he(n.user)}catch(s){console.warn("Hydrate failed:",s)}}pe("/dashboard")}catch(l){let e="Signup failed. Please try again.";if("object"===typeof l&&null!==l){var n,o;const t=l;if("string"===typeof t.code)"auth/email-already-in-use"===t.code?(e="An account with this email already exists.",a(!0),f("Email already in use")):"auth/weak-password"===t.code?(e="Password is too weak. Please choose a stronger password.",O(!0),Y("Password is too weak")):"auth/invalid-email"===t.code&&(e="Please enter a valid email address.",a(!0),f("Invalid email format"));else if(null!==t&&void 0!==t&&null!==(n=t.response)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.error){e=t.response.data.error;const r=t.response.data.field,i=t.response.data.existingSignupMethod;"email"===r?(a(!0),f("google"===i?"Account exists with Google sign-in":"email_password"===i?"Account exists with email/password":t.response.data.error)):"password"===r&&(O(!0),Y(t.response.data.error))}}alert(e)}},noValidate:!0,sx:{display:"flex",flexDirection:"column",width:"100%",gap:1.2},children:[(0,D.jsxs)(c.A,{children:[(0,D.jsx)(d.A,{htmlFor:"email",sx:{fontSize:"0.85rem",mb:.5},children:"Email"}),(0,D.jsx)(h.A,{error:t,helperText:g,id:"email",type:"email",name:"email",placeholder:"your@email.com",autoComplete:"email",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",size:"small",color:t?"error":"primary",inputProps:{"aria-label":"email"}})]}),(0,D.jsxs)(c.A,{children:[(0,D.jsx)(d.A,{htmlFor:"name",sx:{fontSize:"0.85rem",mb:.5},children:"Full Name"}),(0,D.jsx)(h.A,{error:U,helperText:L,id:"name",type:"text",name:"name",placeholder:"John Doe",autoComplete:"name",required:!0,fullWidth:!0,variant:"outlined",size:"small",color:U?"error":"primary",inputProps:{"aria-label":"name"}})]}),(0,D.jsxs)(c.A,{children:[(0,D.jsx)(n.A,{sx:{display:"flex",justifyContent:"space-between"},children:(0,D.jsx)(d.A,{htmlFor:"password",sx:{fontSize:"0.85rem",mb:.5},children:"Password"})}),(0,D.jsx)(h.A,{error:J,helperText:_,name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",type:ee?"text":"password",id:"password",autoComplete:"new-password",required:!0,fullWidth:!0,variant:"outlined",size:"small",color:J?"error":"primary",value:ie,onChange:e=>ne(e.target.value),InputProps:{endAdornment:(0,D.jsx)(b.A,{position:"end",children:(0,D.jsx)(w.A,{"aria-label":"toggle password visibility",onClick:()=>te(e=>!e),onMouseDown:e=>e.preventDefault(),edge:"end",sx:{color:"#48cedb"},children:ee?(0,D.jsx)(v.A,{}):(0,D.jsx)(y.A,{})})})}}),ie.length>0&&(0,D.jsx)(R,{password:ie,confirmPassword:oe,showConfirmMatch:oe.length>0})]}),(0,D.jsxs)(c.A,{children:[(0,D.jsx)(n.A,{sx:{display:"flex",justifyContent:"space-between"},children:(0,D.jsx)(d.A,{htmlFor:"confirmPassword",sx:{fontSize:"0.85rem",mb:.5},children:"Confirm Password"})}),(0,D.jsx)(h.A,{error:$,helperText:Q,name:"confirmPassword",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",type:ae?"text":"password",id:"confirmPassword",autoComplete:"new-password",required:!0,fullWidth:!0,variant:"outlined",size:"small",color:$?"error":"primary",value:oe,onChange:e=>se(e.target.value),InputProps:{endAdornment:(0,D.jsx)(b.A,{position:"end",children:(0,D.jsx)(w.A,{"aria-label":"toggle confirm password visibility",onClick:()=>re(e=>!e),onMouseDown:e=>e.preventDefault(),edge:"end",sx:{color:"#48cedb"},children:ae?(0,D.jsx)(v.A,{}):(0,D.jsx)(y.A,{})})})}})]}),(0,D.jsx)(o.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{background:"linear-gradient(135deg, #48cedb 0%, #2da6b3 100%)",color:"#fff",fontWeight:600,py:1.5,"&:hover":{background:"linear-gradient(135deg, #38b8cb 0%, #2190a0 100%)",boxShadow:"0 4px 20px rgba(72, 206, 219, 0.4)"},mt:1},children:"Sign Up"}),(0,D.jsxs)(m.A,{sx:{textAlign:"center",color:"rgba(255,255,255,0.8)"},children:["Already have an account?"," ",(0,D.jsx)("span",{children:(0,D.jsx)(u.A,{component:p.N_,to:"/signin",sx:{color:"#48cedb","&:hover":{color:"#5dd9e8"}},children:"Sign In"})})]})]}),(0,D.jsx)(l.A,{sx:{background:"rgba(255,255,255,0.2)",my:2},children:(0,D.jsx)(m.A,{sx:{color:"rgba(255,255,255,0.6)",fontSize:"0.85rem"},children:"or"})}),(0,D.jsx)(n.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:(0,D.jsx)(o.A,{fullWidth:!0,variant:"outlined",sx:{borderColor:"rgba(255,255,255,0.3)",color:"#fff","&:hover":{borderColor:"#48cedb",background:"rgba(72, 206, 219, 0.1)"}},onClick:async()=>{ue(!0);try{if(!(0,W.c7)()&&window.location.hostname.includes("itsxtrapush.com"))return alert("Domain authorization error: itsxtrapush.com needs to be added to Firebase authorized domains. Please contact support."),void ue(!1);const l=await(0,W.df)(W.j2,W.Mn);try{const e=await E.R2.register({uid:l.user.uid,email:l.user.email,displayName:l.user.displayName,signupMethod:"google",domain:window.location.hostname});if(null!==e&&void 0!==e&&e.success&&null!==e&&void 0!==e&&e.user){localStorage.setItem("backendUser",JSON.stringify(e.user)),localStorage.setItem("backendSession","true");try{await he(e.user)}catch(n){console.warn("Hydrate failed:",n)}pe("/dashboard")}}catch(o){var e,t,a;console.warn("Backend signup failed:",(null===o||void 0===o||null===(e=o.response)||void 0===e?void 0:e.data)||(null===o||void 0===o?void 0:o.message));var r,i;if("email_password"===(null===o||void 0===o||null===(t=o.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.existingSignupMethod))try{const e=await E.R2.linkGoogle({email:String(l.user.email||""),googleUid:String(l.user.uid),displayName:String(l.user.displayName||"")});if(null!==e&&void 0!==e&&e.success&&null!==e&&void 0!==e&&e.user){localStorage.setItem("backendUser",JSON.stringify(e.user)),localStorage.setItem("backendSession","true");try{await he(e.user)}catch(n){console.warn("Hydrate failed:",n)}pe("/dashboard")}else ue(!1),alert("An account with this email already exists. Please sign in instead.")}catch(s){ue(!1),alert("An account with this email already exists with email/password. Please sign in with your email and password, then link Google in settings.")}else ue(!1),alert((null===o||void 0===o||null===(r=o.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)||"Sign-up failed. Please try again.")}}catch(l){ue(!1),console.error("Google Sign-Up Error:",l);let e="unknown",t="Unknown error";if("object"===typeof l&&null!==l){const a=l;"string"===typeof a.code&&(e=a.code),"string"===typeof a.message&&(t=a.message)}console.error("Error context:",{code:e,message:t});let a="Sign-up with Google failed. Please try again.";switch(e){case"auth/internal-error":a="Authentication service error. This usually means the domain needs to be authorized in Firebase. Please contact support.";break;case"auth/unauthorized-domain":a="This domain is not authorized for Google sign-up. Please contact support.";break;case"auth/popup-closed-by-user":a="Sign-up was cancelled. Please try again.";break;case"auth/popup-blocked":a="Pop-up was blocked. Please enable pop-ups in your browser settings and try again.";break;case"auth/account-exists-with-different-credential":a="An account with this email already exists. Please sign in instead.";break;case"auth/network-request-failed":a="Network error. Please check your internet connection and try again.";break;default:a="unknown"===e?"Sign-up failed. Please try again.":"Sign-up failed: ".concat(t)}alert(a)}},disabled:ce,startIcon:(0,D.jsx)(P.NR,{}),children:ce?"Signing up...":"Sign up with Google"})})]})})]})})]}))}function G(e){const t=[];let a=0;return e.length<8?t.push("Password must be at least 8 characters long."):a+=1,/[A-Z]/.test(e)?a+=1:t.push("Include at least one uppercase letter."),/[a-z]/.test(e)?a+=1:t.push("Include at least one lowercase letter."),/[0-9]/.test(e)?a+=1:t.push("Include at least one number."),/[^A-Za-z0-9]/.test(e)?a+=1:t.push("Include at least one symbol."),{isValid:0===t.length,errors:t,score:a}}function R(e){let{password:t,confirmPassword:a,showConfirmMatch:r=!1}=e;const i=G(t),o=["Very weak","Weak","Fair","Good","Strong","Very strong"],s=o[Math.min(i.score,o.length-1)],l=r&&!!a&&t!==a;return(0,D.jsxs)(n.A,{sx:{mt:1},children:[i.isValid?(0,D.jsxs)(m.A,{variant:"caption",sx:{color:"#81c784",fontWeight:500},children:["\u2713 Password strength: ",s]}):(0,D.jsx)(n.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:i.errors.map((e,t)=>(0,D.jsxs)(m.A,{variant:"caption",sx:{color:"#e57373",display:"flex",alignItems:"center",gap:.5},children:[(0,D.jsx)("span",{style:{fontSize:"0.9rem"},children:"\u2022"})," ",e]},t))}),l&&(0,D.jsx)(m.A,{variant:"caption",sx:{color:"#e57373",display:"block",mt:.5,fontWeight:500},children:"\u2717 Passwords do not match."})]})}},82281(e,t,a){a.d(t,{NR:()=>n});a(9950);var r=a(39020),i=a(44414);function n(){return(0,i.jsx)(r.A,{children:(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M15.68 8.18182C15.68 7.61455 15.6291 7.06909 15.5345 6.54545H8V9.64364H12.3055C12.1164 10.64 11.5491 11.4836 10.6982 12.0509V14.0655H13.2945C14.8073 12.6691 15.68 10.6182 15.68 8.18182Z",fill:"#4285F4"}),(0,i.jsx)("path",{d:"M8 16C10.16 16 11.9709 15.2873 13.2945 14.0655L10.6982 12.0509C9.98545 12.5309 9.07636 12.8218 8 12.8218C5.92 12.8218 4.15273 11.4182 3.52 9.52727H0.858182V11.5927C2.17455 14.2036 4.87273 16 8 16Z",fill:"#34A853"}),(0,i.jsx)("path",{d:"M3.52 9.52C3.36 9.04 3.26545 8.53091 3.26545 8C3.26545 7.46909 3.36 6.96 3.52 6.48V4.41455H0.858182C0.312727 5.49091 0 6.70545 0 8C0 9.29455 0.312727 10.5091 0.858182 11.5855L2.93091 9.97091L3.52 9.52Z",fill:"#FBBC05"}),(0,i.jsx)("path",{d:"M8 3.18545C9.17818 3.18545 10.2255 3.59273 11.0618 4.37818L13.3527 2.08727C11.9636 0.792727 10.16 0 8 0C4.87273 0 2.17455 1.79636 0.858182 4.41455L3.52 6.48C4.15273 4.58909 5.92 3.18545 8 3.18545Z",fill:"#EA4335"})]})})}}}]);